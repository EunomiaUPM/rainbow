import{k as Jt,a as u,j as t,f as K,l as Vr,G as jt,B as we,A as Zt,u as Fr,m as tt,R as g,n as ae,o as ht,p as Ue,q as We,P as ee,s as Q,t as Ur,v as he,C as Ct,x as Qt,y as Wr,V as zr,z as Kr,D as qr,e as en,E as Yr,F as Gr,H as Xr,J as Jr,K as Zr,M as Qr,N as eo,Q as to,S as no,T as ro,I as oo,U as ao,W as so,X as io,Y as lo,Z as co,_ as uo,$ as fo,a0 as po}from"./index-Bz25F5MZ.js";import{f as mo,g as ho,h as xo}from"./business-queries-D2gKQTM6.js";import{u as Rt,l as go,D as tn,b as nn,c as rn,d as on,F as an,g as sn,h as ln,m as vo,n as wo,L as Tt,j as Vt,k as Ft,e as Ve,f as Fe,o as yo,p as bo,q as So}from"./business-mutations-BqJiDKlz.js";import{H as Ce}from"./heading-kdlkSGj8.js";import{B as Re}from"./badge-Nk9bQMyO.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Jt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Co=Vr("gap-1.5 border px-2 py-1 rounded-md",{variants:{variant:{permission:"bg-success-600/20 border-success-700 text-sucess-100",obligation:"bg-warn-700/20 border-warn-700 text-warn-100",prohibition:"bg-danger-600/20 border-danger-700 text-danger-100"}}}),Ro=({variant:e})=>{switch(e){case"permission":return"text-success-200";case"obligation":return"text-warn-300";case"prohibition":return"text-danger-400";default:return"text-white/80"}},cn=u.forwardRef(({className:e,variant:r,children:n,...o},s)=>t.jsxs("div",{className:K(Co({variant:r,className:e})),...o,children:[t.jsx("p",{className:`uppercase mb-0 font-bold ${Ro({variant:r})}`,children:r}),n]}));cn.displayName="Policy";const To=({children:e,...r})=>t.jsx("div",{className:K("flex flex-col gap-1 py-3 border-b border-white/20 last:border-0 first:pt-1 last:pb-1"),...r,children:e}),Ut=({children:e,...r})=>t.jsx("div",{className:K("flex "),...r,children:e}),Wt=({children:e,...r})=>t.jsx("div",{className:K("w-32 font-semibold text-white/60"),...r,children:e}),Io=({children:e,...r})=>t.jsx("div",{className:K("uppercase"),...r,children:e}),Eo=({children:e,...r})=>t.jsx("div",{className:K("flex gap-1.5 bg-black/30 w-fit p-1 rounded-md"),...r,children:e}),lt=({type:e,className:r,children:n,...o})=>{const s=i=>i.replace(/[()\[\]{},"]/g," "),a=typeof n=="string"?n:String(n);return t.jsxs("div",{className:K("constraint-policy-container",r),...o,children:[t.jsx("span",{className:`flex justify-start items-start h-full px-2 py-0.5 w-fit max-w-[165px] rounded-sm gap-1 focus-visible:ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-all   font-medium break-all border border-white/15 bg-gray-300/5
    ${a.length>=16?"nowrap":""}`,children:t.jsx("p",{className:"break-all text-white/80",children:s(a)})}),t.jsx("div",{className:"constraint-item text-2xs px-1.5 rounded-sm py-0.5 cursor-pointer bg-black/90 opacity-80 mt-1",children:e})]})},Po=({children:e})=>t.jsx("div",{className:"flex flex-col gap-1",children:e}),ct=({policyItem:e,variant:r})=>t.jsx(cn,{className:"",variant:r,children:(e==null?void 0:e.length)===0||e==null?t.jsxs("p",{className:"text-xs mt-0.5 text-white/70",children:[" No ",r,"s "]}):t.jsx("div",{className:"flex flex-col",children:e==null?void 0:e.map((n,o)=>t.jsxs(To,{children:[t.jsxs(Ut,{children:[t.jsx(Wt,{children:"action:"}),t.jsx(Io,{children:n.action})]}),t.jsxs(Ut,{children:[t.jsx(Wt,{children:"constraints:"}),t.jsx(Po,{children:n.constraint==null||n.constraint.length===0?t.jsx("p",{className:"text-xs mt-0.5 ",children:"No constraints "}):t.jsx(t.Fragment,{children:n.constraint.map((s,a)=>t.jsxs(Eo,{children:[t.jsx(lt,{type:"leftOperand",className:"",children:JSON.stringify(s.leftOperand)}),t.jsx(lt,{type:"operator",className:"",children:JSON.stringify(s.operator)}),t.jsx(lt,{type:"rightOperand",className:"",children:JSON.stringify(s.rightOperand)})]},a))})})]})]},o))})}),Do=({policy:e,catalogId:r,datasetId:n})=>{const o=Rt({}),{handleSubmit:s,control:a,setValue:i,getValues:l}=o,{mutateAsync:d}=go(),{api_gateway:c}=u.useContext(jt),m=()=>{d({api_gateway:c,catalogId:r,datasetId:n,policyId:e["@id"]})};return t.jsxs(tn,{className:"max-w-fit sm:max-w-fit ",children:[t.jsxs(nn,{children:[t.jsx(rn,{children:"Delete policy dialog"}),t.jsx(on,{className:"max-w-full flex flex-wrap break-all",children:t.jsxs("span",{className:"max-w-full flex flex-wrap",children:["Are you sure you want to delete Policy with ID"," ",t.jsx(Re,{variant:"info",children:e["@id"].slice(9,29)+"[...]"})]})})]}),t.jsx(an,{...o,children:t.jsx("form",{onSubmit:s(m),className:"space-y-6",children:t.jsxs(sn,{className:"[&>*]:w-full",children:[t.jsx(ln,{asChild:!0,children:t.jsx(we,{variant:"ghost",type:"reset",children:"Cancel"})}),t.jsx(we,{variant:"destructive",type:"submit",children:"Remove policy"})]})})})]})},Ao=({policy:e,catalogId:r,datasetId:n,datasetName:o})=>{const s=u.useRef(null),a=Rt({}),{handleSubmit:i,control:l,setValue:d,getValues:c}=a,{mutateAsync:m}=vo(),{api_gateway:f}=u.useContext(jt),{participant:p}=u.useContext(Zt),N=async()=>{var j;await m({api_gateway:f,content:{consumerParticipantId:p==null?void 0:p.participant_id,offer:{"@id":e["@id"]}}}),a.reset(),(j=s.current)==null||j.click()};return t.jsxs(tn,{className:" p-0 flex flex-col h-fit max-h-[90dvh]",children:[t.jsxs(nn,{className:"px-6 pt-6",children:[t.jsx(rn,{children:"Dataset access dialog"}),t.jsx(on,{className:"max-w-full flex flex-col break-all gap-2",children:t.jsx("span",{className:"max-w-full flex flex-col gap-0 mb-0",children:t.jsxs("span",{children:[" ","You are about to request access to dataset",t.jsx(Re,{variant:"infoLighter",className:"mx-1 mt-1",children:o}),"in catalog"," ",t.jsx(Re,{variant:"infoLighter",className:"mx-1 mt-1",children:r.slice(14)}),"under policy with ID"," ",t.jsx(Re,{variant:"infoLighter",className:"mx-1 mt-1",children:e["@id"].slice(9,27)+"[...]"})]})})})]}),t.jsx(wo,{children:t.jsx(dn,{policy:e,datasetId:void 0,catalogId:void 0,participant:void 0,datasetName:""})}),t.jsx(an,{...a,children:t.jsx("form",{onSubmit:i(N),className:"space-y-6",children:t.jsxs(sn,{className:"[&>*]:w-full p-6 pt-0",children:[t.jsx(ln,{asChild:!0,ref:s,children:t.jsx(we,{variant:"ghost",type:"reset",children:"Cancel"})}),t.jsx(we,{variant:"default",type:"submit",children:"Request access"})]})})})]})},dn=({policy:e,datasetId:r,catalogId:n,participant:o,datasetName:s})=>{const a=Fr();return t.jsx("div",{className:"",children:t.jsxs(Tt,{className:"h-full flex flex-col items-start justify-start border border-white/30 bg-white/10 px-4 pb-4 pt-2 rounded-md ",children:[t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs(Ce,{level:"h5",className:"flex gap-3",children:[t.jsx("div",{children:"Policy with ID"}),t.jsx(Re,{variant:"info",className:"h-6",children:e["@id"].slice(9,24)+"[...]"})]}),a.location.pathname.includes("datahub-catalog")?a.location.pathname.includes("dataset")?t.jsx(t.Fragment,{children:(o==null?void 0:o.participant_type)==="Provider"&&t.jsxs(Vt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsx(we,{variant:"icon_destructive",size:"icon",className:"mb-2",children:t.jsx(jo,{className:"mb-0.5"})})}),t.jsx(Do,{policy:e,catalogId:n,datasetId:r})]})}):null:""]}),t.jsxs(Ve,{children:[t.jsx(Fe,{children:"Policy Target"}),t.jsx("p",{children:e["@type"]})]}),t.jsxs(Ve,{children:[t.jsx(Fe,{children:" Profile"}),t.jsxs("p",{className:"whitespace-normal",children:[" ",JSON.stringify(e.profile)]})]}),t.jsxs(Ve,{children:[t.jsx(Fe,{children:" Target"}),t.jsxs("p",{children:[" ",e.target.slice(9)]})]}),t.jsx("div",{className:"h-5"}),t.jsx(Ce,{level:"h6",children:" ODRL CONTENT"}),t.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[t.jsx(ct,{policyItem:e.permission,variant:"permission"}),t.jsx(ct,{policyItem:e.prohibition,variant:"prohibition"}),t.jsx(ct,{policyItem:e.obligation,variant:"obligation"})]}),t.jsx("div",{className:"h-4"}),(o==null?void 0:o.participant_type)==="Consumer"&&t.jsxs(Vt,{children:[t.jsx(Ft,{asChild:!0,children:t.jsx(we,{children:"Request dataset with Policy"})}),t.jsx(Ao,{policy:e,catalogId:n,datasetId:r,datasetName:s})]})]})})};function un(e){const r=e+"CollectionProvider",[n,o]=tt(r),[s,a]=n(r,{collectionRef:{current:null},itemMap:new Map}),i=h=>{const{scope:y,children:v}=h,x=g.useRef(null),w=g.useRef(new Map).current;return t.jsx(s,{scope:y,itemMap:w,collectionRef:x,children:v})};i.displayName=r;const l=e+"CollectionSlot",d=ht(l),c=g.forwardRef((h,y)=>{const{scope:v,children:x}=h,w=a(l,v),b=ae(y,w.collectionRef);return t.jsx(d,{ref:b,children:x})});c.displayName=l;const m=e+"CollectionItemSlot",f="data-radix-collection-item",p=ht(m),N=g.forwardRef((h,y)=>{const{scope:v,children:x,...w}=h,b=g.useRef(null),O=ae(y,b),q=a(m,v);return g.useEffect(()=>(q.itemMap.set(b,{ref:b,...w}),()=>void q.itemMap.delete(b))),t.jsx(p,{[f]:"",ref:O,children:x})});N.displayName=m;function j(h){const y=a(e+"CollectionConsumer",h);return g.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((q,S)=>w.indexOf(q.ref.current)-w.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:N},j,o]}var nt="Collapsible",[Oo,fn]=tt(nt),[_o,It]=Oo(nt),pn=u.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:o,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[d,c]=Ue({prop:o,defaultProp:s??!1,onChange:i,caller:nt});return t.jsx(_o,{scope:n,disabled:a,contentId:We(),open:d,onOpenToggle:u.useCallback(()=>c(m=>!m),[c]),children:t.jsx(ee.div,{"data-state":Pt(d),"data-disabled":a?"":void 0,...l,ref:r})})});pn.displayName=nt;var mn="CollapsibleTrigger",hn=u.forwardRef((e,r)=>{const{__scopeCollapsible:n,...o}=e,s=It(mn,n);return t.jsx(ee.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Pt(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...o,ref:r,onClick:Q(e.onClick,s.onOpenToggle)})});hn.displayName=mn;var Et="CollapsibleContent",xn=u.forwardRef((e,r)=>{const{forceMount:n,...o}=e,s=It(Et,e.__scopeCollapsible);return t.jsx(Ur,{present:n||s.open,children:({present:a})=>t.jsx(Mo,{...o,ref:r,present:a})})});xn.displayName=Et;var Mo=u.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:o,children:s,...a}=e,i=It(Et,n),[l,d]=u.useState(o),c=u.useRef(null),m=ae(r,c),f=u.useRef(0),p=f.current,N=u.useRef(0),j=N.current,h=i.open||l,y=u.useRef(h),v=u.useRef(void 0);return u.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),he(()=>{const x=c.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,N.current=w.width,y.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),d(o)}},[i.open,o]),t.jsx(ee.div,{"data-state":Pt(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!h,...a,ref:m,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:h&&s})});function Pt(e){return e?"open":"closed"}var ko=pn,Lo=hn,$o=xn,Bo=u.createContext(void 0);function gn(e){const r=u.useContext(Bo);return e||r||"ltr"}var ce="Accordion",Ho=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Dt,Vo,Fo]=un(ce),[rt]=tt(ce,[Fo,fn]),At=fn(),vn=g.forwardRef((e,r)=>{const{type:n,...o}=e,s=o,a=o;return t.jsx(Dt.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?t.jsx(Ko,{...a,ref:r}):t.jsx(zo,{...s,ref:r})})});vn.displayName=ce;var[wn,Uo]=rt(ce),[yn,Wo]=rt(ce,{collapsible:!1}),zo=g.forwardRef((e,r)=>{const{value:n,defaultValue:o,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,d]=Ue({prop:n,defaultProp:o??"",onChange:s,caller:ce});return t.jsx(wn,{scope:e.__scopeAccordion,value:g.useMemo(()=>l?[l]:[],[l]),onItemOpen:d,onItemClose:g.useCallback(()=>a&&d(""),[a,d]),children:t.jsx(yn,{scope:e.__scopeAccordion,collapsible:a,children:t.jsx(bn,{...i,ref:r})})})}),Ko=g.forwardRef((e,r)=>{const{value:n,defaultValue:o,onValueChange:s=()=>{},...a}=e,[i,l]=Ue({prop:n,defaultProp:o??[],onChange:s,caller:ce}),d=g.useCallback(m=>l((f=[])=>[...f,m]),[l]),c=g.useCallback(m=>l((f=[])=>f.filter(p=>p!==m)),[l]);return t.jsx(wn,{scope:e.__scopeAccordion,value:i,onItemOpen:d,onItemClose:c,children:t.jsx(yn,{scope:e.__scopeAccordion,collapsible:!0,children:t.jsx(bn,{...a,ref:r})})})}),[qo,ot]=rt(ce),bn=g.forwardRef((e,r)=>{const{__scopeAccordion:n,disabled:o,dir:s,orientation:a="vertical",...i}=e,l=g.useRef(null),d=ae(l,r),c=Vo(n),f=gn(s)==="ltr",p=Q(e.onKeyDown,N=>{var P;if(!Ho.includes(N.key))return;const j=N.target,h=c().filter(E=>{var H;return!((H=E.ref.current)!=null&&H.disabled)}),y=h.findIndex(E=>E.ref.current===j),v=h.length;if(y===-1)return;N.preventDefault();let x=y;const w=0,b=v-1,O=()=>{x=y+1,x>b&&(x=w)},q=()=>{x=y-1,x<w&&(x=b)};switch(N.key){case"Home":x=w;break;case"End":x=b;break;case"ArrowRight":a==="horizontal"&&(f?O():q());break;case"ArrowDown":a==="vertical"&&O();break;case"ArrowLeft":a==="horizontal"&&(f?q():O());break;case"ArrowUp":a==="vertical"&&q();break}const S=x%v;(P=h[S].ref.current)==null||P.focus()});return t.jsx(qo,{scope:n,disabled:o,direction:s,orientation:a,children:t.jsx(Dt.Slot,{scope:n,children:t.jsx(ee.div,{...i,"data-orientation":a,ref:d,onKeyDown:o?void 0:p})})})}),Qe="AccordionItem",[Yo,Ot]=rt(Qe),Sn=g.forwardRef((e,r)=>{const{__scopeAccordion:n,value:o,...s}=e,a=ot(Qe,n),i=Uo(Qe,n),l=At(n),d=We(),c=o&&i.value.includes(o)||!1,m=a.disabled||e.disabled;return t.jsx(Yo,{scope:n,open:c,disabled:m,triggerId:d,children:t.jsx(ko,{"data-orientation":a.orientation,"data-state":In(c),...l,...s,ref:r,disabled:m,open:c,onOpenChange:f=>{f?i.onItemOpen(o):i.onItemClose(o)}})})});Sn.displayName=Qe;var Nn="AccordionHeader",jn=g.forwardRef((e,r)=>{const{__scopeAccordion:n,...o}=e,s=ot(ce,n),a=Ot(Nn,n);return t.jsx(ee.h3,{"data-orientation":s.orientation,"data-state":In(a.open),"data-disabled":a.disabled?"":void 0,...o,ref:r})});jn.displayName=Nn;var xt="AccordionTrigger",Cn=g.forwardRef((e,r)=>{const{__scopeAccordion:n,...o}=e,s=ot(ce,n),a=Ot(xt,n),i=Wo(xt,n),l=At(n);return t.jsx(Dt.ItemSlot,{scope:n,children:t.jsx(Lo,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...o,ref:r})})});Cn.displayName=xt;var Rn="AccordionContent",Tn=g.forwardRef((e,r)=>{const{__scopeAccordion:n,...o}=e,s=ot(ce,n),a=Ot(Rn,n),i=At(n);return t.jsx($o,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...o,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Tn.displayName=Rn;function In(e){return e?"open":"closed"}var Go=vn,Xo=Sn,Jo=jn,En=Cn,Pn=Tn;const dt=Go,Xe=u.forwardRef(({className:e,...r},n)=>t.jsx(Xo,{ref:n,className:K("  text-white/80 rounded-md",e),...r}));Xe.displayName="AccordionItem";const Je=u.forwardRef(({className:e,children:r,...n},o)=>t.jsx(Jo,{className:"flex rounded-md ",children:t.jsxs(En,{ref:o,className:K("h-9 px-4 rounded-t-md font-bold flex flex-1 items-center justify-between py-1 text-sm font-medium transition-all text-left text-white/70 [&[data-state=open]>svg]:rotate-180",e),...n,children:[r,t.jsx(Ct,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));Je.displayName=En.displayName;const Ze=u.forwardRef(({className:e,children:r,...n},o)=>t.jsx(Pn,{ref:o,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:t.jsx("div",{className:K("px-4 my-4 pt-0",e),children:r})}));Ze.displayName=Pn.displayName;function zt(e,[r,n]){return Math.min(n,Math.max(r,e))}function Zo(e){const r=u.useRef({value:e,previous:e});return u.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Qo=[" ","Enter","ArrowUp","ArrowDown"],ea=[" ","Enter"],Te="Select",[at,st,ta]=un(Te),[Me]=tt(Te,[ta,Qt]),it=Qt(),[na,ye]=Me(Te),[ra,oa]=Me(Te),Dn=e=>{const{__scopeSelect:r,children:n,open:o,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:d,dir:c,name:m,autoComplete:f,disabled:p,required:N,form:j}=e,h=it(r),[y,v]=u.useState(null),[x,w]=u.useState(null),[b,O]=u.useState(!1),q=gn(c),[S,P]=Ue({prop:o,defaultProp:s??!1,onChange:a,caller:Te}),[E,H]=Ue({prop:i,defaultProp:l,onChange:d,caller:Te}),V=u.useRef(null),Y=y?j||!!y.closest("form"):!0,[C,W]=u.useState(new Set),U=Array.from(C).map(L=>L.props.value).join(";");return t.jsx(Wr,{...h,children:t.jsxs(na,{required:N,scope:r,trigger:y,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:O,contentId:We(),value:E,onValueChange:H,open:S,onOpenChange:P,dir:q,triggerPointerDownPosRef:V,disabled:p,children:[t.jsx(at.Provider,{scope:r,children:t.jsx(ra,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(L=>{W($=>new Set($).add(L))},[]),onNativeOptionRemove:u.useCallback(L=>{W($=>{const J=new Set($);return J.delete(L),J})},[]),children:n})}),Y?t.jsxs(tr,{"aria-hidden":!0,required:N,tabIndex:-1,name:m,autoComplete:f,value:E,onChange:L=>H(L.target.value),disabled:p,form:j,children:[E===void 0?t.jsx("option",{value:""}):null,Array.from(C)]},U):null]})})};Dn.displayName=Te;var An="SelectTrigger",On=u.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:o=!1,...s}=e,a=it(n),i=ye(An,n),l=i.disabled||o,d=ae(r,i.onTriggerChange),c=st(n),m=u.useRef("touch"),[f,p,N]=rr(h=>{const y=c().filter(w=>!w.disabled),v=y.find(w=>w.value===i.value),x=or(y,h,v);x!==void 0&&i.onValueChange(x.value)}),j=h=>{l||(i.onOpenChange(!0),N()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return t.jsx(Kr,{asChild:!0,...a,children:t.jsx(ee.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nr(i.value)?"":void 0,...s,ref:d,onClick:Q(s.onClick,h=>{h.currentTarget.focus(),m.current!=="mouse"&&j(h)}),onPointerDown:Q(s.onPointerDown,h=>{m.current=h.pointerType;const y=h.target;y.hasPointerCapture(h.pointerId)&&y.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(j(h),h.preventDefault())}),onKeyDown:Q(s.onKeyDown,h=>{const y=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(y&&h.key===" ")&&Qo.includes(h.key)&&(j(),h.preventDefault())})})})});On.displayName=An;var _n="SelectValue",Mn=u.forwardRef((e,r)=>{const{__scopeSelect:n,className:o,style:s,children:a,placeholder:i="",...l}=e,d=ye(_n,n),{onValueNodeHasChildrenChange:c}=d,m=a!==void 0,f=ae(r,d.onValueNodeChange);return he(()=>{c(m)},[c,m]),t.jsx(ee.span,{...l,ref:f,style:{pointerEvents:"none"},children:nr(d.value)?t.jsx(t.Fragment,{children:i}):a})});Mn.displayName=_n;var aa="SelectIcon",kn=u.forwardRef((e,r)=>{const{__scopeSelect:n,children:o,...s}=e;return t.jsx(ee.span,{"aria-hidden":!0,...s,ref:r,children:o||"▼"})});kn.displayName=aa;var sa="SelectPortal",Ln=e=>t.jsx(qr,{asChild:!0,...e});Ln.displayName=sa;var Ie="SelectContent",$n=u.forwardRef((e,r)=>{const n=ye(Ie,e.__scopeSelect),[o,s]=u.useState();if(he(()=>{s(new DocumentFragment)},[]),!n.open){const a=o;return a?en.createPortal(t.jsx(Bn,{scope:e.__scopeSelect,children:t.jsx(at.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),a):null}return t.jsx(Hn,{...e,ref:r})});$n.displayName=Ie;var le=10,[Bn,be]=Me(Ie),ia="SelectContentImpl",la=ht("SelectContent.RemoveScroll"),Hn=u.forwardRef((e,r)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:d,align:c,alignOffset:m,arrowPadding:f,collisionBoundary:p,collisionPadding:N,sticky:j,hideWhenDetached:h,avoidCollisions:y,...v}=e,x=ye(Ie,n),[w,b]=u.useState(null),[O,q]=u.useState(null),S=ae(r,T=>b(T)),[P,E]=u.useState(null),[H,V]=u.useState(null),Y=st(n),[C,W]=u.useState(!1),U=u.useRef(!1);u.useEffect(()=>{if(w)return Gr(w)},[w]),Xr();const L=u.useCallback(T=>{const[M,...ne]=Y().map(k=>k.ref.current),[B]=ne.slice(-1),D=document.activeElement;for(const k of T)if(k===D||(k==null||k.scrollIntoView({block:"nearest"}),k===M&&O&&(O.scrollTop=0),k===B&&O&&(O.scrollTop=O.scrollHeight),k==null||k.focus(),document.activeElement!==D))return},[Y,O]),$=u.useCallback(()=>L([P,w]),[L,P,w]);u.useEffect(()=>{C&&$()},[C,$]);const{onOpenChange:J,triggerPointerDownPosRef:te}=x;u.useEffect(()=>{if(w){let T={x:0,y:0};const M=B=>{var D,k;T={x:Math.abs(Math.round(B.pageX)-(((D=te.current)==null?void 0:D.x)??0)),y:Math.abs(Math.round(B.pageY)-(((k=te.current)==null?void 0:k.y)??0))}},ne=B=>{T.x<=10&&T.y<=10?B.preventDefault():w.contains(B.target)||J(!1),document.removeEventListener("pointermove",M),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,J,te]),u.useEffect(()=>{const T=()=>J(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[J]);const[pe,Pe]=rr(T=>{const M=Y().filter(D=>!D.disabled),ne=M.find(D=>D.ref.current===document.activeElement),B=or(M,T,ne);B&&setTimeout(()=>B.ref.current.focus())}),De=u.useCallback((T,M,ne)=>{const B=!U.current&&!ne;(x.value!==void 0&&x.value===M||B)&&(E(T),B&&(U.current=!0))},[x.value]),de=u.useCallback(()=>w==null?void 0:w.focus(),[w]),se=u.useCallback((T,M,ne)=>{const B=!U.current&&!ne;(x.value!==void 0&&x.value===M||B)&&V(T)},[x.value]),xe=o==="popper"?gt:Vn,me=xe===gt?{side:l,sideOffset:d,align:c,alignOffset:m,arrowPadding:f,collisionBoundary:p,collisionPadding:N,sticky:j,hideWhenDetached:h,avoidCollisions:y}:{};return t.jsx(Bn,{scope:n,content:w,viewport:O,onViewportChange:q,itemRefCallback:De,selectedItem:P,onItemLeave:de,itemTextRefCallback:se,focusSelectedItem:$,selectedItemText:H,position:o,isPositioned:C,searchRef:pe,children:t.jsx(Jr,{as:la,allowPinchZoom:!0,children:t.jsx(Zr,{asChild:!0,trapped:x.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:Q(s,T=>{var M;(M=x.trigger)==null||M.focus({preventScroll:!0}),T.preventDefault()}),children:t.jsx(Qr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:t.jsx(xe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:T=>T.preventDefault(),...v,...me,onPlaced:()=>W(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Q(v.onKeyDown,T=>{const M=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!M&&T.key.length===1&&Pe(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let B=Y().filter(D=>!D.disabled).map(D=>D.ref.current);if(["ArrowUp","End"].includes(T.key)&&(B=B.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const D=T.target,k=B.indexOf(D);B=B.slice(k+1)}setTimeout(()=>L(B)),T.preventDefault()}})})})})})})});Hn.displayName=ia;var ca="SelectItemAlignedPosition",Vn=u.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:o,...s}=e,a=ye(Ie,n),i=be(Ie,n),[l,d]=u.useState(null),[c,m]=u.useState(null),f=ae(r,S=>m(S)),p=st(n),N=u.useRef(!1),j=u.useRef(!0),{viewport:h,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=i,w=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&c&&h&&y&&v){const S=a.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),H=v.getBoundingClientRect();if(a.dir!=="rtl"){const D=H.left-P.left,k=E.left-D,ue=S.left-k,R=S.width+ue,Ae=Math.max(R,P.width),Oe=window.innerWidth-le,Se=zt(k,[le,Math.max(le,Oe-Ae)]);l.style.minWidth=R+"px",l.style.left=Se+"px"}else{const D=P.right-H.right,k=window.innerWidth-E.right-D,ue=window.innerWidth-S.right-k,R=S.width+ue,Ae=Math.max(R,P.width),Oe=window.innerWidth-le,Se=zt(k,[le,Math.max(le,Oe-Ae)]);l.style.minWidth=R+"px",l.style.right=Se+"px"}const V=p(),Y=window.innerHeight-le*2,C=h.scrollHeight,W=window.getComputedStyle(c),U=parseInt(W.borderTopWidth,10),L=parseInt(W.paddingTop,10),$=parseInt(W.borderBottomWidth,10),J=parseInt(W.paddingBottom,10),te=U+L+C+J+$,pe=Math.min(y.offsetHeight*5,te),Pe=window.getComputedStyle(h),De=parseInt(Pe.paddingTop,10),de=parseInt(Pe.paddingBottom,10),se=S.top+S.height/2-le,xe=Y-se,me=y.offsetHeight/2,T=y.offsetTop+me,M=U+L+T,ne=te-M;if(M<=se){const D=V.length>0&&y===V[V.length-1].ref.current;l.style.bottom="0px";const k=c.clientHeight-h.offsetTop-h.offsetHeight,ue=Math.max(xe,me+(D?de:0)+k+$),R=M+ue;l.style.height=R+"px"}else{const D=V.length>0&&y===V[0].ref.current;l.style.top="0px";const ue=Math.max(se,U+h.offsetTop+(D?De:0)+me)+ne;l.style.height=ue+"px",h.scrollTop=M-se+h.offsetTop}l.style.margin=`${le}px 0`,l.style.minHeight=pe+"px",l.style.maxHeight=Y+"px",o==null||o(),requestAnimationFrame(()=>N.current=!0)}},[p,a.trigger,a.valueNode,l,c,h,y,v,a.dir,o]);he(()=>w(),[w]);const[b,O]=u.useState();he(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const q=u.useCallback(S=>{S&&j.current===!0&&(w(),x==null||x(),j.current=!1)},[w,x]);return t.jsx(ua,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:N,onScrollButtonChange:q,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:t.jsx(ee.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Vn.displayName=ca;var da="SelectPopperPosition",gt=u.forwardRef((e,r)=>{const{__scopeSelect:n,align:o="start",collisionPadding:s=le,...a}=e,i=it(n);return t.jsx(eo,{...i,...a,ref:r,align:o,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gt.displayName=da;var[ua,_t]=Me(Ie,{}),vt="SelectViewport",Fn=u.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:o,...s}=e,a=be(vt,n),i=_t(vt,n),l=ae(r,a.onViewportChange),d=u.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),t.jsx(at.Slot,{scope:n,children:t.jsx(ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Q(s.onScroll,c=>{const m=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const N=Math.abs(d.current-m.scrollTop);if(N>0){const j=window.innerHeight-le*2,h=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(h,y);if(v<j){const x=v+N,w=Math.min(j,x),b=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(m.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});Fn.displayName=vt;var Un="SelectGroup",[fa,pa]=Me(Un),ma=u.forwardRef((e,r)=>{const{__scopeSelect:n,...o}=e,s=We();return t.jsx(fa,{scope:n,id:s,children:t.jsx(ee.div,{role:"group","aria-labelledby":s,...o,ref:r})})});ma.displayName=Un;var Wn="SelectLabel",zn=u.forwardRef((e,r)=>{const{__scopeSelect:n,...o}=e,s=pa(Wn,n);return t.jsx(ee.div,{id:s.id,...o,ref:r})});zn.displayName=Wn;var et="SelectItem",[ha,Kn]=Me(et),qn=u.forwardRef((e,r)=>{const{__scopeSelect:n,value:o,disabled:s=!1,textValue:a,...i}=e,l=ye(et,n),d=be(et,n),c=l.value===o,[m,f]=u.useState(a??""),[p,N]=u.useState(!1),j=ae(r,x=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,x,o,s)}),h=We(),y=u.useRef("touch"),v=()=>{s||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(ha,{scope:n,value:o,disabled:s,textId:h,isSelected:c,onItemTextChange:u.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:t.jsx(at.ItemSlot,{scope:n,value:o,disabled:s,textValue:m,children:t.jsx(ee.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:j,onFocus:Q(i.onFocus,()=>N(!0)),onBlur:Q(i.onBlur,()=>N(!1)),onClick:Q(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Q(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Q(i.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:Q(i.onPointerMove,x=>{var w;y.current=x.pointerType,s?(w=d.onItemLeave)==null||w.call(d):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:Q(i.onKeyDown,x=>{var b;((b=d.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(ea.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});qn.displayName=et;var He="SelectItemText",Yn=u.forwardRef((e,r)=>{const{__scopeSelect:n,className:o,style:s,...a}=e,i=ye(He,n),l=be(He,n),d=Kn(He,n),c=oa(He,n),[m,f]=u.useState(null),p=ae(r,v=>f(v),d.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,d.value,d.disabled)}),N=m==null?void 0:m.textContent,j=u.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:N},d.value),[d.disabled,d.value,N]),{onNativeOptionAdd:h,onNativeOptionRemove:y}=c;return he(()=>(h(j),()=>y(j)),[h,y,j]),t.jsxs(t.Fragment,{children:[t.jsx(ee.span,{id:d.textId,...a,ref:p}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?en.createPortal(a.children,i.valueNode):null]})});Yn.displayName=He;var Gn="SelectItemIndicator",Xn=u.forwardRef((e,r)=>{const{__scopeSelect:n,...o}=e;return Kn(Gn,n).isSelected?t.jsx(ee.span,{"aria-hidden":!0,...o,ref:r}):null});Xn.displayName=Gn;var wt="SelectScrollUpButton",Jn=u.forwardRef((e,r)=>{const n=be(wt,e.__scopeSelect),o=_t(wt,e.__scopeSelect),[s,a]=u.useState(!1),i=ae(r,o.onScrollButtonChange);return he(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=d.scrollTop>0;a(c)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?t.jsx(Qn,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Jn.displayName=wt;var yt="SelectScrollDownButton",Zn=u.forwardRef((e,r)=>{const n=be(yt,e.__scopeSelect),o=_t(yt,e.__scopeSelect),[s,a]=u.useState(!1),i=ae(r,o.onScrollButtonChange);return he(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<c;a(m)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?t.jsx(Qn,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Zn.displayName=yt;var Qn=u.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:o,...s}=e,a=be("SelectScrollButton",n),i=u.useRef(null),l=st(n),d=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>d(),[d]),he(()=>{var m;const c=l().find(f=>f.ref.current===document.activeElement);(m=c==null?void 0:c.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),t.jsx(ee.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:Q(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(o,50))}),onPointerMove:Q(s.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),i.current===null&&(i.current=window.setInterval(o,50))}),onPointerLeave:Q(s.onPointerLeave,()=>{d()})})}),xa="SelectSeparator",er=u.forwardRef((e,r)=>{const{__scopeSelect:n,...o}=e;return t.jsx(ee.div,{"aria-hidden":!0,...o,ref:r})});er.displayName=xa;var bt="SelectArrow",ga=u.forwardRef((e,r)=>{const{__scopeSelect:n,...o}=e,s=it(n),a=ye(bt,n),i=be(bt,n);return a.open&&i.position==="popper"?t.jsx(to,{...s,...o,ref:r}):null});ga.displayName=bt;var va="SelectBubbleInput",tr=u.forwardRef(({__scopeSelect:e,value:r,...n},o)=>{const s=u.useRef(null),a=ae(o,s),i=Zo(r);return u.useEffect(()=>{const l=s.current;if(!l)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==r&&m){const f=new Event("change",{bubbles:!0});m.call(l,r),l.dispatchEvent(f)}},[i,r]),t.jsx(ee.select,{...n,style:{...zr,...n.style},ref:a,defaultValue:r})});tr.displayName=va;function nr(e){return e===""||e===void 0}function rr(e){const r=Yr(e),n=u.useRef(""),o=u.useRef(0),s=u.useCallback(i=>{const l=n.current+i;r(l),function d(c){n.current=c,window.clearTimeout(o.current),c!==""&&(o.current=window.setTimeout(()=>d(""),1e3))}(l)},[r]),a=u.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,s,a]}function or(e,r,n){const s=r.length>1&&Array.from(r).every(c=>c===r[0])?r[0]:r,a=n?e.indexOf(n):-1;let i=wa(e,Math.max(a,0));s.length===1&&(i=i.filter(c=>c!==n));const d=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function wa(e,r){return e.map((n,o)=>e[(r+o)%e.length])}var ya=Dn,ar=On,ba=Mn,Sa=kn,Na=Ln,sr=$n,ja=Fn,ir=zn,lr=qn,Ca=Yn,Ra=Xn,cr=Jn,dr=Zn,ur=er;const Kt=ya,Ta=ba,fr=u.forwardRef(({className:e,children:r,...n},o)=>t.jsxs(ar,{ref:o,className:K("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsx(Sa,{asChild:!0,children:t.jsx(Ct,{className:"h-4 w-4 opacity-50"})})]}));fr.displayName=ar.displayName;const pr=u.forwardRef(({className:e,...r},n)=>t.jsx(cr,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(ro,{className:"h-4 w-4"})}));pr.displayName=cr.displayName;const mr=u.forwardRef(({className:e,...r},n)=>t.jsx(dr,{ref:n,className:K("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(Ct,{className:"h-4 w-4"})}));mr.displayName=dr.displayName;const hr=u.forwardRef(({className:e,children:r,position:n="popper",...o},s)=>t.jsx(Na,{children:t.jsxs(sr,{ref:s,className:K("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-background  text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:[t.jsx(pr,{}),t.jsx(ja,{className:K("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(mr,{})]})}));hr.displayName=sr.displayName;const Ia=u.forwardRef(({className:e,...r},n)=>t.jsx(ir,{ref:n,className:K("px-2 py-1.5 text-sm font-semibold",e),...r}));Ia.displayName=ir.displayName;const xr=u.forwardRef(({className:e,children:r,...n},o)=>t.jsxs(lr,{ref:o,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-background-400 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Ra,{children:t.jsx(no,{className:"h-4 w-4"})})}),t.jsx(Ca,{children:r})]}));xr.displayName=lr.displayName;const Ea=u.forwardRef(({className:e,...r},n)=>t.jsx(ur,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...r}));Ea.displayName=ur.displayName;const Pa=({policyTemplate:e,onSubmit:r})=>{var i,l,d;const n=Rt({defaultValues:{}});u.useEffect(()=>{const c={};Object.entries(e.operand_options).forEach(([m,f])=>{m&&f.defaultValue!==void 0&&(c[m]=f.defaultValue)}),n.reset(c)},[e,n]);const o=async(c,m)=>{let f=JSON.parse(JSON.stringify(m.content));for(const p in c)if(c.hasOwnProperty(p)){const N=c[p];let j=JSON.stringify(f);const h=p.replace(/[$]/g,"\\$&");j=j.replace(new RegExp(h,"g"),N),f=JSON.parse(j)}await r(f),n.reset()},s=(c,m)=>{const f=e.operand_options[m],p=f.formType,N=f.defaultValue,j=f.options;let h;switch(p){case"date":case"text":h=t.jsx(oo,{type:p,defaultValue:N,...c});break;case"select":h=t.jsxs(Kt,{defaultValue:N,onValueChange:c.onChange,children:[t.jsx(fr,{className:"min-w-[200px] w-fit",children:t.jsx(Ta,{placeholder:"Select an option"})}),t.jsx(hr,{children:j==null?void 0:j.map(y=>{var v;return t.jsxs(xr,{className:" text-white/70 min-w-fit",value:y.value,children:[(v=y.label.find(x=>x["@language"]=="en"))==null?void 0:v["@value"],y.value]},y.value)})})]});break;default:h=t.jsx(t.Fragment,{});break}return h},a=c=>t.jsx(bo,{render:({field:m})=>s(m,c),name:c,control:n.control},c);return t.jsx("div",{children:t.jsx(yo,{...n,children:t.jsxs("form",{onSubmit:n.handleSubmit(c=>o(c,e)),className:"space-y-4 ",children:[t.jsxs(Tt,{className:"border border-white/30 bg-white/10 px-4 py-2 pb-4 rounded-md justify-start max-h-[80vh] overflow-y-auto",children:[t.jsx("div",{className:"flex",children:t.jsxs(Ce,{level:"h5",className:"flex gap-3",children:[t.jsx("span",{className:"font-light",children:"Policy template:"}),e.title]})}),t.jsxs(Ve,{children:[t.jsx(Fe,{children:"Description"}),t.jsx("p",{children:e.description})]}),t.jsx("div",{className:"min-h-5"}),t.jsx(Ce,{level:"h6",children:" ODRL CONTENT"}),t.jsx("p",{className:"mb-2",children:" Edit the constraint value"}),t.jsx("div",{className:"flex flex-col gap-2",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx(dt,{type:"single",collapsible:!0,className:"w-full",children:t.jsxs(Xe,{value:"item-1",className:"bg-success-500/10 border border-success-600/20",children:[t.jsx(Je,{className:"text-white/70 flex bg-success-400/25 uppercase overflow-hidden rounded-md data-[state=open]:rounded-b-none",children:t.jsx("div",{className:"flex items-center w-full",children:t.jsx("p",{className:"text-current",children:"permission"})})}),t.jsxs(Ze,{className:"relative ",children:[(e.content.permission==null||((i=e.content.permission)==null?void 0:i.length)==0)&&t.jsx("p",{children:"No policy defined"}),e.content.permission!==void 0&&(e.content.permission||[]).map((c,m)=>{var f;return t.jsx("div",{className:"border-b border-white/20 last:border-0 first:mt-0 mt-3",children:t.jsxs("div",{className:"policy-item-template",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("p",{className:"mb-2 opacity-80 font-bold",children:" Action: "}),t.jsxs("p",{children:[" ",c.action.toUpperCase()," "]})]}),t.jsx("div",{className:"h-2"}),t.jsx("p",{className:"mb-1 opacity-80 font-bold",children:" Constraints: "}),(f=c.constraint)==null?void 0:f.map((p,N)=>t.jsx("div",{className:"constraint-template-group",children:t.jsxs("div",{className:"constraint-create flex gap-3",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Left Operand:"}),t.jsx("p",{className:"key-policy-template",children:p.leftOperand})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Operator:"}),t.jsx("p",{className:"key-policy-template",children:p.operator})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Right Operand:"}),t.jsx(Kt,{children:a(p.rightOperand)})]})]})}))]})})})]})]})}),t.jsx(dt,{type:"single",collapsible:!0,className:"w-full",children:t.jsxs(Xe,{value:"item-1",className:"bg-warn-500/10 border border-warn-600/20",children:[t.jsx(Je,{className:"text-white/70 flex bg-warn-400/25 uppercase overflow-hidden rounded-md data-[state=open]:rounded-b-none",children:t.jsx("div",{className:"flex items-center w-full",children:t.jsx("p",{className:"text-current",children:"obligation"})})}),t.jsxs(Ze,{className:"relative",children:[(e.content.obligation==null||((l=e.content.obligation)==null?void 0:l.length)==0)&&t.jsx("p",{children:"No policy defined"}),(e.content.obligation||[]).map((c,m)=>{var f,p;return t.jsx("div",{children:t.jsxs("div",{className:"policy-item-template",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("p",{className:"mb-2 opacity-80 font-bold",children:" Action: "}),t.jsx("p",{children:(f=c.action)==null?void 0:f.toUpperCase()})]}),t.jsx("div",{className:"h-2"}),t.jsx("p",{className:"mb-2",children:" Constraints: "}),(p=c.constraint)==null?void 0:p.map((N,j)=>t.jsx("div",{className:"constraint-template-group",children:t.jsxs("div",{className:"constraint-create flex gap-3",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Left Operand:"}),t.jsx("p",{className:"key-policy-template",children:N.leftOperand})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Operator:"}),t.jsx("p",{className:"key-policy-template",children:N.operator})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Right Operand:"}),t.jsx("div",{children:a(N.rightOperand)})]})]})}))]})})})]})]})}),t.jsx(dt,{type:"single",collapsible:!0,className:"w-full",children:t.jsxs(Xe,{value:"item-1",className:"bg-danger-500/10 border border-danger-600/20",children:[t.jsx(Je,{className:"text-white/70 flex bg-danger-500/25 uppercase overflow-hidden rounded-md data-[state=open]:rounded-b-none",children:t.jsx("div",{className:"flex items-center w-full",children:t.jsx("p",{className:"text-current",children:"prohibition"})})}),t.jsxs(Ze,{className:"relative",children:[(e.content.prohibition==null||((d=e.content.prohibition)==null?void 0:d.length)==0)&&t.jsx("p",{children:"No policy defined"}),(e.content.prohibition||[]).map((c,m)=>{var f,p;return t.jsx("div",{children:t.jsxs("div",{className:"policy-item-template",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("p",{className:"mb-2 opacity-80 font-bold",children:" Action: "}),t.jsxs("p",{children:[" ",(f=c.action)==null?void 0:f.toUpperCase()," "]})]}),t.jsx("div",{className:"h-2"}),t.jsx("p",{className:"mb-2",children:" Constraints: "}),(p=c.constraint)==null?void 0:p.map((N,j)=>t.jsx("div",{className:"constraint-template-group",children:t.jsxs("div",{className:"constraint-create flex gap-3",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Left Operand:"}),t.jsx("p",{className:"key-policy-template",children:N.leftOperand})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Operator:"}),t.jsx("p",{className:"key-policy-template",children:N.operator})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Right Operand:"}),t.jsx("div",{children:a(N.rightOperand)})]})]})}))]})})})]})]})})]})})]}),t.jsx(we,{className:"w-fit mt-4",type:"submit",children:"Create policy"})]})})})};function Da(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const gr=g.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ze=()=>{const e=g.useContext(gr);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Da(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Aa(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Oa(){return Mt(/^Mac/)}function _a(){return Mt(/^iPhone/)}function qt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Ma(){return Mt(/^iPad/)||Oa()&&navigator.maxTouchPoints>1}function vr(){return _a()||Ma()}function Mt(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const ka=24,La=typeof window<"u"?u.useLayoutEffect:u.useEffect;function Yt(...e){return(...r)=>{for(let n of e)typeof n=="function"&&n(...r)}}const ut=typeof document<"u"&&window.visualViewport;function Gt(e){let r=window.getComputedStyle(e);return/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY)}function wr(e){for(Gt(e)&&(e=e.parentElement);e&&!Gt(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const $a=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ye=0,ft;function Ba(e={}){let{isDisabled:r}=e;La(()=>{if(!r)return Ye++,Ye===1&&vr()&&(ft=Ha()),()=>{Ye--,Ye===0&&(ft==null||ft())}},[r])}function Ha(){let e,r=0,n=f=>{e=wr(f.target),!(e===document.documentElement&&e===document.body)&&(r=f.changedTouches[0].pageY)},o=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let p=f.changedTouches[0].pageY,N=e.scrollTop,j=e.scrollHeight-e.clientHeight;j!==0&&((N<=0&&p>r||N>=j&&p<r)&&f.preventDefault(),r=p)},s=f=>{let p=f.target;St(p)&&p!==document.activeElement&&(f.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},a=f=>{let p=f.target;St(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",ut&&(ut.height<window.innerHeight?requestAnimationFrame(()=>{Xt(p)}):ut.addEventListener("resize",()=>Xt(p),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,c=Yt(Va(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=Yt($e(document,"touchstart",n,{passive:!1,capture:!0}),$e(document,"touchmove",o,{passive:!1,capture:!0}),$e(document,"touchend",s,{passive:!1,capture:!0}),$e(document,"focus",a,!0),$e(window,"scroll",i));return()=>{c(),m(),window.scrollTo(l,d)}}function Va(e,r,n){let o=e.style[r];return e.style[r]=n,()=>{e.style[r]=o}}function $e(e,r,n,o){return e.addEventListener(r,n,o),()=>{e.removeEventListener(r,n,o)}}function Xt(e){let r=document.scrollingElement||document.documentElement;for(;e&&e!==r;){let n=wr(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let o=n.getBoundingClientRect().top,s=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const i=n.getBoundingClientRect().bottom+ka;a>i&&(n.scrollTop+=s-o)}e=n.parentElement}}function St(e){return e instanceof HTMLInputElement&&!$a.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Fa(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function Ua(...e){return r=>e.forEach(n=>Fa(n,r))}function yr(...e){return u.useCallback(Ua(...e),e)}const br=new WeakMap;function Z(e,r,n=!1){if(!e||!(e instanceof HTMLElement))return;let o={};Object.entries(r).forEach(([s,a])=>{if(s.startsWith("--")){e.style.setProperty(s,a);return}o[s]=e.style[s],e.style[s]=a}),!n&&br.set(e,o)}function Wa(e,r){if(!e||!(e instanceof HTMLElement))return;let n=br.get(e);n&&(e.style[r]=n[r])}const X=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ge(e,r){if(!e)return null;const n=window.getComputedStyle(e),o=n.transform||n.webkitTransform||n.mozTransform;let s=o.match(/^matrix3d\((.+)\)$/);return s?parseFloat(s[1].split(", ")[X(r)?13:12]):(s=o.match(/^matrix\((.+)\)$/),s?parseFloat(s[1].split(", ")[X(r)?5:4]):null)}function za(e){return 8*(Math.log(e+1)-2)}function pt(e,r){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,r),()=>{e.style.cssText=n}}function Ka(...e){return(...r)=>{for(const n of e)typeof n=="function"&&n(...r)}}const z={DURATION:.5,EASE:[.32,.72,0,1]},Sr=.4,qa=.25,Ya=100,Nr=8,je=16,Nt=26,mt="vaul-dragging";function jr(e){const r=g.useRef(e);return g.useEffect(()=>{r.current=e}),g.useMemo(()=>(...n)=>r.current==null?void 0:r.current.call(r,...n),[])}function Ga({defaultProp:e,onChange:r}){const n=g.useState(e),[o]=n,s=g.useRef(o),a=jr(r);return g.useEffect(()=>{s.current!==o&&(a(o),s.current=o)},[o,s,a]),n}function Cr({prop:e,defaultProp:r,onChange:n=()=>{}}){const[o,s]=Ga({defaultProp:r,onChange:n}),a=e!==void 0,i=a?e:o,l=jr(n),d=g.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&l(f)}else s(c)},[a,e,s,l]);return[i,d]}function Xa({activeSnapPointProp:e,setActiveSnapPointProp:r,snapPoints:n,drawerRef:o,overlayRef:s,fadeFromIndex:a,onSnapPointChange:i,direction:l="bottom",container:d,snapToSequentialPoint:c}){const[m,f]=Cr({prop:e,defaultProp:n==null?void 0:n[0],onChange:r}),[p,N]=g.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);g.useEffect(()=>{function S(){N({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const j=g.useMemo(()=>m===(n==null?void 0:n[n.length-1])||null,[n,m]),h=g.useMemo(()=>{var S;return(S=n==null?void 0:n.findIndex(P=>P===m))!=null?S:null},[n,m]),y=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===m||!n,v=g.useMemo(()=>{const S=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var P;return(P=n==null?void 0:n.map(E=>{const H=typeof E=="string";let V=0;if(H&&(V=parseInt(E,10)),X(l)){const C=H?V:p?E*S.height:0;return p?l==="bottom"?S.height-C:-S.height+C:C}const Y=H?V:p?E*S.width:0;return p?l==="right"?S.width-Y:-S.width+Y:Y}))!=null?P:[]},[n,p,d]),x=g.useMemo(()=>h!==null?v==null?void 0:v[h]:null,[v,h]),w=g.useCallback(S=>{var P;const E=(P=v==null?void 0:v.findIndex(H=>H===S))!=null?P:null;i(E),Z(o.current,{transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,transform:X(l)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`}),v&&E!==v.length-1&&a!==void 0&&E!==a&&E<a?Z(s.current,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,opacity:"0"}):Z(s.current,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(E,0)])},[o.current,n,v,a,s,f]);g.useEffect(()=>{if(m||e){var S;const P=(S=n==null?void 0:n.findIndex(E=>E===e||E===m))!=null?S:-1;v&&P!==-1&&typeof v[P]=="number"&&w(v[P])}},[m,e,n,v,w]);function b({draggedDistance:S,closeDrawer:P,velocity:E,dismissible:H}){if(a===void 0)return;const V=l==="bottom"||l==="right"?(x??0)-S:(x??0)+S,Y=h===a-1,C=h===0,W=S>0;if(Y&&Z(s.current,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`}),!c&&E>2&&!W){H?P():w(v[0]);return}if(!c&&E>2&&W&&v&&n){w(v[n.length-1]);return}const U=v==null?void 0:v.reduce(($,J)=>typeof $!="number"||typeof J!="number"?$:Math.abs(J-V)<Math.abs($-V)?J:$),L=X(l)?window.innerHeight:window.innerWidth;if(E>Sr&&Math.abs(S)<L*.4){const $=W?1:-1;if($>0&&j&&n){w(v[n.length-1]);return}if(C&&$<0&&H&&P(),h===null)return;w(v[h+$]);return}w(U)}function O({draggedDistance:S}){if(x===null)return;const P=l==="bottom"||l==="right"?x-S:x+S;(l==="bottom"||l==="right")&&P<v[v.length-1]||(l==="top"||l==="left")&&P>v[v.length-1]||Z(o.current,{transform:X(l)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function q(S,P){if(!n||typeof h!="number"||!v||a===void 0)return null;const E=h===a-1;if(h>=a&&P)return 0;if(E&&!P)return 1;if(!y&&!E)return null;const V=E?h+1:h-1,Y=E?v[V]-v[V-1]:v[V+1]-v[V],C=S/Math.abs(Y);return E?1-C:C}return{isLastSnapPoint:j,activeSnapPoint:m,shouldFade:y,getPercentageDragged:q,setActiveSnapPoint:f,activeSnapPointIndex:h,onRelease:b,onDrag:O,snapPointsOffset:v}}const Ja=()=>()=>{};function Za(){const{direction:e,isOpen:r,shouldScaleBackground:n,setBackgroundColorOnScale:o,noBodyStyles:s}=ze(),a=g.useRef(null),i=u.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Nt)/window.innerWidth}g.useEffect(()=>{if(r&&n){a.current&&clearTimeout(a.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;Ka(o&&!s?pt(document.body,{background:"black"}):Ja,pt(d,{transformOrigin:X(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${z.DURATION}s`,transitionTimingFunction:`cubic-bezier(${z.EASE.join(",")})`}));const c=pt(d,{borderRadius:`${Nr}px`,overflow:"hidden",...X(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),a.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},z.DURATION*1e3)}}},[r,n,i])}let Be=null;function Qa({isOpen:e,modal:r,nested:n,hasBeenOpened:o,preventScrollRestoration:s,noBodyStyles:a}){const[i,l]=g.useState(()=>typeof window<"u"?window.location.href:""),d=g.useRef(0),c=g.useCallback(()=>{if(qt()&&Be===null&&e&&!a){Be={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const N=p-window.innerHeight;N&&d.current>=p&&(document.body.style.top=`${-(d.current+N)}px`)}),300)}},[e]),m=g.useCallback(()=>{if(qt()&&Be!==null&&!a){const f=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Be),window.requestAnimationFrame(()=>{if(s&&i!==window.location.href){l(window.location.href);return}window.scrollTo(p,f)}),Be=null}},[i]);return g.useEffect(()=>{function f(){d.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),g.useEffect(()=>{if(r)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||m()}},[r,m]),g.useEffect(()=>{n||!o||(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),r||window.setTimeout(()=>{m()},500)):m())},[e,o,i,r,n,c,m]),{restorePositionSetting:m}}function es({open:e,onOpenChange:r,children:n,onDrag:o,onRelease:s,snapPoints:a,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=qa,scrollLockTimeout:c=Ya,dismissible:m=!0,handleOnly:f=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:N,setActiveSnapPoint:j,fixed:h,modal:y=!0,onClose:v,nested:x,noBodyStyles:w=!1,direction:b="bottom",defaultOpen:O=!1,disablePreventScroll:q=!0,snapToSequentialPoint:S=!1,preventScrollRestoration:P=!1,repositionInputs:E=!0,onAnimationEnd:H,container:V,autoFocus:Y=!1}){var C,W;const[U=!1,L]=Cr({defaultProp:O,prop:e,onChange:I=>{r==null||r(I),!I&&!x&&Or(),setTimeout(()=>{H==null||H(I)},z.DURATION*1e3),I&&!y&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),I||(document.body.style.pointerEvents="auto")}}),[$,J]=g.useState(!1),[te,pe]=g.useState(!1),[Pe,De]=g.useState(!1),de=g.useRef(null),se=g.useRef(null),xe=g.useRef(null),me=g.useRef(null),T=g.useRef(null),M=g.useRef(!1),ne=g.useRef(null),B=g.useRef(0),D=g.useRef(!1),k=g.useRef(!O),ue=g.useRef(0),R=g.useRef(null),Ae=g.useRef(((C=R.current)==null?void 0:C.getBoundingClientRect().height)||0),Oe=g.useRef(((W=R.current)==null?void 0:W.getBoundingClientRect().width)||0),Se=g.useRef(0),Ir=g.useCallback(I=>{a&&I===ke.length-1&&(se.current=new Date)},[]),{activeSnapPoint:Er,activeSnapPointIndex:_e,setActiveSnapPoint:kt,onRelease:Pr,snapPointsOffset:ke,onDrag:Dr,shouldFade:Lt,getPercentageDragged:Ar}=Xa({snapPoints:a,activeSnapPointProp:N,setActiveSnapPointProp:j,drawerRef:R,fadeFromIndex:p,overlayRef:de,onSnapPointChange:Ir,direction:b,container:V,snapToSequentialPoint:S});Ba({isDisabled:!U||te||!y||Pe||!$||!E||!q});const{restorePositionSetting:Or}=Qa({isOpen:U,modal:y,nested:x??!1,hasBeenOpened:$,preventScrollRestoration:P,noBodyStyles:w});function Ke(){return(window.innerWidth-Nt)/window.innerWidth}function _r(I){var _,F;!m&&!a||R.current&&!R.current.contains(I.target)||(Ae.current=((_=R.current)==null?void 0:_.getBoundingClientRect().height)||0,Oe.current=((F=R.current)==null?void 0:F.getBoundingClientRect().width)||0,pe(!0),xe.current=new Date,vr()&&window.addEventListener("touchend",()=>M.current=!1,{once:!0}),I.target.setPointerCapture(I.pointerId),B.current=X(b)?I.pageY:I.pageX)}function $t(I,_){var F;let A=I;const G=(F=window.getSelection())==null?void 0:F.toString(),oe=R.current?Ge(R.current,b):null,re=new Date;if(A.tagName==="SELECT"||A.hasAttribute("data-vaul-no-drag")||A.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(se.current&&re.getTime()-se.current.getTime()<500)return!1;if(oe!==null&&(b==="bottom"?oe>0:oe<0))return!0;if(G&&G.length>0)return!1;if(T.current&&re.getTime()-T.current.getTime()<c&&oe===0||_)return T.current=re,!1;for(;A;){if(A.scrollHeight>A.clientHeight){if(A.scrollTop!==0)return T.current=new Date,!1;if(A.getAttribute("role")==="dialog")return!0}A=A.parentNode}return!0}function Mr(I){if(R.current&&te){const _=b==="bottom"||b==="right"?1:-1,F=(B.current-(X(b)?I.pageY:I.pageX))*_,A=F>0,G=a&&!m&&!A;if(G&&_e===0)return;const oe=Math.abs(F),re=document.querySelector("[data-vaul-drawer-wrapper]"),ge=b==="bottom"||b==="top"?Ae.current:Oe.current;let ie=oe/ge;const Ne=Ar(oe,A);if(Ne!==null&&(ie=Ne),G&&ie>=1||!M.current&&!$t(I.target,A))return;if(R.current.classList.add(mt),M.current=!0,Z(R.current,{transition:"none"}),Z(de.current,{transition:"none"}),a&&Dr({draggedDistance:F}),A&&!a){const fe=za(F),qe=Math.min(fe*-1,0)*_;Z(R.current,{transform:X(b)?`translate3d(0, ${qe}px, 0)`:`translate3d(${qe}px, 0, 0)`});return}const ve=1-ie;if((Lt||p&&_e===p-1)&&(o==null||o(I,ie),Z(de.current,{opacity:`${ve}`,transition:"none"},!0)),re&&de.current&&i){const fe=Math.min(Ke()+ie*(1-Ke()),1),qe=8-ie*8,Ht=Math.max(0,14-ie*14);Z(re,{borderRadius:`${qe}px`,transform:X(b)?`scale(${fe}) translate3d(0, ${Ht}px, 0)`:`scale(${fe}) translate3d(${Ht}px, 0, 0)`,transition:"none"},!0)}if(!a){const fe=oe*_;Z(R.current,{transform:X(b)?`translate3d(0, ${fe}px, 0)`:`translate3d(${fe}px, 0, 0)`})}}}g.useEffect(()=>{window.requestAnimationFrame(()=>{k.current=!0})},[]),g.useEffect(()=>{var I;function _(){if(!R.current||!E)return;const F=document.activeElement;if(St(F)||D.current){var A;const G=((A=window.visualViewport)==null?void 0:A.height)||0,oe=window.innerHeight;let re=oe-G;const ge=R.current.getBoundingClientRect().height||0,ie=ge>oe*.8;Se.current||(Se.current=ge);const Ne=R.current.getBoundingClientRect().top;if(Math.abs(ue.current-re)>60&&(D.current=!D.current),a&&a.length>0&&ke&&_e){const ve=ke[_e]||0;re+=ve}if(ue.current=re,ge>G||D.current){const ve=R.current.getBoundingClientRect().height;let fe=ve;ve>G&&(fe=G-(ie?Ne:Nt)),h?R.current.style.height=`${ve-Math.max(re,0)}px`:R.current.style.height=`${Math.max(fe,G-Ne)}px`}else Aa()||(R.current.style.height=`${Se.current}px`);a&&a.length>0&&!D.current?R.current.style.bottom="0px":R.current.style.bottom=`${Math.max(re,0)}px`}}return(I=window.visualViewport)==null||I.addEventListener("resize",_),()=>{var F;return(F=window.visualViewport)==null?void 0:F.removeEventListener("resize",_)}},[_e,a,ke]);function Le(I){kr(),v==null||v(),I||L(!1),setTimeout(()=>{a&&kt(a[0])},z.DURATION*1e3)}function Bt(){if(!R.current)return;const I=document.querySelector("[data-vaul-drawer-wrapper]"),_=Ge(R.current,b);Z(R.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`}),Z(de.current,{transition:`opacity ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,opacity:"1"}),i&&_&&_>0&&U&&Z(I,{borderRadius:`${Nr}px`,overflow:"hidden",...X(b)?{transform:`scale(${Ke()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ke()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${z.DURATION}s`,transitionTimingFunction:`cubic-bezier(${z.EASE.join(",")})`},!0)}function kr(){!te||!R.current||(R.current.classList.remove(mt),M.current=!1,pe(!1),me.current=new Date)}function Lr(I){if(!te||!R.current)return;R.current.classList.remove(mt),M.current=!1,pe(!1),me.current=new Date;const _=Ge(R.current,b);if(!I||!$t(I.target,!1)||!_||Number.isNaN(_)||xe.current===null)return;const F=me.current.getTime()-xe.current.getTime(),A=B.current-(X(b)?I.pageY:I.pageX),G=Math.abs(A)/F;if(G>.05&&(De(!0),setTimeout(()=>{De(!1)},200)),a){Pr({draggedDistance:A*(b==="bottom"||b==="right"?1:-1),closeDrawer:Le,velocity:G,dismissible:m}),s==null||s(I,!0);return}if(b==="bottom"||b==="right"?A>0:A<0){Bt(),s==null||s(I,!0);return}if(G>Sr){Le(),s==null||s(I,!1);return}var oe;const re=Math.min((oe=R.current.getBoundingClientRect().height)!=null?oe:0,window.innerHeight);var ge;const ie=Math.min((ge=R.current.getBoundingClientRect().width)!=null?ge:0,window.innerWidth),Ne=b==="left"||b==="right";if(Math.abs(_)>=(Ne?ie:re)*d){Le(),s==null||s(I,!1);return}s==null||s(I,!0),Bt()}g.useEffect(()=>(U&&(Z(document.documentElement,{scrollBehavior:"auto"}),se.current=new Date),()=>{Wa(document.documentElement,"scrollBehavior")}),[U]);function $r(I){const _=I?(window.innerWidth-je)/window.innerWidth:1,F=I?-je:0;ne.current&&window.clearTimeout(ne.current),Z(R.current,{transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,transform:X(b)?`scale(${_}) translate3d(0, ${F}px, 0)`:`scale(${_}) translate3d(${F}px, 0, 0)`}),!I&&R.current&&(ne.current=setTimeout(()=>{const A=Ge(R.current,b);Z(R.current,{transition:"none",transform:X(b)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})},500))}function Br(I,_){if(_<0)return;const F=(window.innerWidth-je)/window.innerWidth,A=F+_*(1-F),G=-je+_*je;Z(R.current,{transform:X(b)?`scale(${A}) translate3d(0, ${G}px, 0)`:`scale(${A}) translate3d(${G}px, 0, 0)`,transition:"none"})}function Hr(I,_){const F=X(b)?window.innerHeight:window.innerWidth,A=_?(F-je)/F:1,G=_?-je:0;_&&Z(R.current,{transition:`transform ${z.DURATION}s cubic-bezier(${z.EASE.join(",")})`,transform:X(b)?`scale(${A}) translate3d(0, ${G}px, 0)`:`scale(${A}) translate3d(${G}px, 0, 0)`})}return g.useEffect(()=>{y||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[y]),g.createElement(lo,{defaultOpen:O,onOpenChange:I=>{!m&&!I||(I?J(!0):Le(!0),L(I))},open:U},g.createElement(gr.Provider,{value:{activeSnapPoint:Er,snapPoints:a,setActiveSnapPoint:kt,drawerRef:R,overlayRef:de,onOpenChange:r,onPress:_r,onRelease:Lr,onDrag:Mr,dismissible:m,shouldAnimate:k,handleOnly:f,isOpen:U,isDragging:te,shouldFade:Lt,closeDrawer:Le,onNestedDrag:Br,onNestedOpenChange:$r,onNestedRelease:Hr,keyboardIsOpen:D,modal:y,snapPointsOffset:ke,activeSnapPointIndex:_e,direction:b,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:w,container:V,autoFocus:Y}},n))}const Rr=g.forwardRef(function({...e},r){const{overlayRef:n,snapPoints:o,onRelease:s,shouldFade:a,isOpen:i,modal:l,shouldAnimate:d}=ze(),c=yr(r,n),m=o&&o.length>0;if(!l)return null;const f=g.useCallback(p=>s(p),[s]);return g.createElement(fo,{onMouseUp:f,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":i&&m?"true":"false","data-vaul-snap-points-overlay":i&&a?"true":"false","data-vaul-animate":d!=null&&d.current?"true":"false",...e})});Rr.displayName="Drawer.Overlay";const Tr=g.forwardRef(function({onPointerDownOutside:e,style:r,onOpenAutoFocus:n,...o},s){const{drawerRef:a,onPress:i,onRelease:l,onDrag:d,keyboardIsOpen:c,snapPointsOffset:m,activeSnapPointIndex:f,modal:p,isOpen:N,direction:j,snapPoints:h,container:y,handleOnly:v,shouldAnimate:x,autoFocus:w}=ze(),[b,O]=g.useState(!1),q=yr(s,a),S=g.useRef(null),P=g.useRef(null),E=g.useRef(!1),H=h&&h.length>0;Za();const V=(C,W,U=0)=>{if(E.current)return!0;const L=Math.abs(C.y),$=Math.abs(C.x),J=$>L,te=["bottom","right"].includes(W)?1:-1;if(W==="left"||W==="right"){if(!(C.x*te<0)&&$>=0&&$<=U)return J}else if(!(C.y*te<0)&&L>=0&&L<=U)return!J;return E.current=!0,!0};g.useEffect(()=>{H&&window.requestAnimationFrame(()=>{O(!0)})},[]);function Y(C){S.current=null,E.current=!1,l(C)}return g.createElement(co,{"data-vaul-drawer-direction":j,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":N&&H?"true":"false","data-vaul-custom-container":y?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...o,ref:q,style:m&&m.length>0?{"--snap-point-height":`${m[f??0]}px`,...r}:r,onPointerDown:C=>{v||(o.onPointerDown==null||o.onPointerDown.call(o,C),S.current={x:C.pageX,y:C.pageY},i(C))},onOpenAutoFocus:C=>{n==null||n(C),w||C.preventDefault()},onPointerDownOutside:C=>{if(e==null||e(C),!p||C.defaultPrevented){C.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:C=>{if(!p){C.preventDefault();return}},onPointerMove:C=>{if(P.current=C,v||(o.onPointerMove==null||o.onPointerMove.call(o,C),!S.current))return;const W=C.pageY-S.current.y,U=C.pageX-S.current.x,L=C.pointerType==="touch"?10:2;V({x:U,y:W},j,L)?d(C):(Math.abs(U)>L||Math.abs(W)>L)&&(S.current=null)},onPointerUp:C=>{o.onPointerUp==null||o.onPointerUp.call(o,C),S.current=null,E.current=!1,l(C)},onPointerOut:C=>{o.onPointerOut==null||o.onPointerOut.call(o,C),Y(P.current)},onContextMenu:C=>{o.onContextMenu==null||o.onContextMenu.call(o,C),P.current&&Y(P.current)}})});Tr.displayName="Drawer.Content";const ts=250,ns=120,rs=g.forwardRef(function({preventCycle:e=!1,children:r,...n},o){const{closeDrawer:s,isDragging:a,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:c,handleOnly:m,isOpen:f,onPress:p,onDrag:N}=ze(),j=g.useRef(null),h=g.useRef(!1);function y(){if(h.current){w();return}window.setTimeout(()=>{v()},ns)}function v(){if(a||e||h.current){w();return}if(w(),!i||i.length===0){c||s();return}if(l===i[i.length-1]&&c){s();return}const O=i.findIndex(S=>S===l);if(O===-1)return;const q=i[O+1];d(q)}function x(){j.current=window.setTimeout(()=>{h.current=!0},ts)}function w(){j.current&&window.clearTimeout(j.current),h.current=!1}return g.createElement("div",{onClick:y,onPointerCancel:w,onPointerDown:b=>{m&&p(b),x()},onPointerMove:b=>{m&&N(b)},ref:o,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},g.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},r))});rs.displayName="Drawer.Handle";function os(e){const r=ze(),{container:n=r.container,...o}=e;return g.createElement(uo,{container:n,...o})}const Ee={Root:es,Content:Tr,Overlay:Rr,Trigger:ao,Portal:os,Title:so,Description:io};function as({...e}){return t.jsx(Ee.Root,{"data-slot":"drawer",...e})}function ss({...e}){return t.jsx(Ee.Trigger,{"data-slot":"drawer-trigger",...e})}function is({...e}){return t.jsx(Ee.Portal,{"data-slot":"drawer-portal",...e})}function ls({className:e,...r}){return t.jsx(Ee.Overlay,{"data-slot":"drawer-overlay",className:K("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function cs({className:e,children:r,...n}){return t.jsxs(is,{"data-slot":"drawer-portal",children:[t.jsx(ls,{}),t.jsxs(Ee.Content,{"data-slot":"drawer-content",className:K("w-1/2  group/drawer-content bg-background fixed z-50 flex h-auto flex-col  max-w-1/2","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-1/2 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]max-w-1/2","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]max-w-1/2",e),...n,children:[t.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),r]})]})}function ds({className:e,...r}){return t.jsx("div",{"data-slot":"drawer-header",className:K("flex flex-col gap-0.5 p-4 bg-brand-black/70 backdrop-blur-sm group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left","group-data-[vaul-drawer-direction=right]/drawer-content:sticky top-0 left-0",e),...r})}function us({className:e,...r}){return t.jsx(Ee.Title,{"data-slot":"drawer-title",className:K("text-primary-100 font-semibold mb-0",e),...r})}function fs({className:e,...r}){return t.jsx(Ee.Description,{"data-slot":"drawer-description",className:K("text-muted-foreground text-sm",e),...r})}const vs=function(){const{catalogId:r,datasetId:n}=po.useParams(),{participant:o}=u.useContext(Zt),[s,a]=u.useState(!1),{data:i}=mo(n),{data:l}=ho(r,n),{data:d}=xo(),{mutateAsync:c}=So(),{api_gateway:m}=u.useContext(jt),f=async p=>{await c({api_gateway:m,datasetId:n,catalogId:r,content:{offer:p}}),a(!1)};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs(Ce,{level:"h3",className:"flex gap-2 items-center",children:["Dataset",t.jsx(Re,{variant:"info",size:"lg",children:i.name})]}),t.jsx(Tt,{className:"text-sm w-2/3",children:i.custom_properties.map(p=>t.jsxs(Ve,{children:[t.jsx(Fe,{className:"basis-[30%] text-sky-300",children:p[0]}),t.jsx("p",{className:"text-gray-300/90",children:p[1]})]},p[0]))}),t.jsxs("div",{className:" flex flex-row  justify-start gap-3 items-center",children:[t.jsx(Ce,{level:"h5",className:"mb-0",children:"ODRL Policies"}),t.jsxs(as,{direction:"right",open:s,onOpenChange:p=>a(p),children:[t.jsx(ss,{asChild:!0,children:(o==null?void 0:o.participant_type)=="Provider"&&d&&t.jsxs(we,{variant:"default",size:"sm",className:"mb-1 ml-3",children:["Add ODRL policy",t.jsx(No,{className:""})]})}),t.jsxs(cs,{children:[t.jsxs(ds,{className:"px-8",children:[t.jsxs(us,{children:[t.jsx(Ce,{level:"h4",className:"text-current mb-1 ",children:"New ODRL Policy"}),t.jsxs("p",{className:"font-normal text-brand-sky",children:[" ","for Dataset",t.jsxs(Re,{variant:"info",size:"sm",className:"ml-2",children:[" ",i.name]})]})]}),t.jsx(fs,{children:"Start by selecting a policy template, then edit the corresponding values."})]}),t.jsx("div",{className:"px-8 flex flex-col gap-4 overflow-y-scroll h-[80vh] pb-6",children:d.map(p=>t.jsx(Pa,{policyTemplate:p,onSubmit:f},p.id))})]})]})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:l&&l.map(p=>t.jsx(dn,{participant:o,policy:p,catalogId:r,datasetId:n,datasetName:i.name},p["@id"]))})]})};export{vs as component};
