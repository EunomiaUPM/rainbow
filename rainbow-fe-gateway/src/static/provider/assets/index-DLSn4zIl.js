import{j as s,aR as j,r as m,B as i,a as o}from"./index-omH1oWRl.js";import{d as h}from"./dayjs.min-BAmgoTqK.js";import{b as p,c as g}from"./contract-queries-CDBcnN47.js";import{C as f}from"./ContractNegotiationActions-Cl917et-.js";import{L as u,a,b as t,c as C}from"./list-cTQVuLal.js";import{H as c}from"./heading-BXPqTu4h.js";import{D as M,a as v,b as y,c as D,d as _,e as b,f as N,g as w}from"./drawer-DhPcwUCn.js";import{M as B,R as H,a as I,b as L,c as P,d as S,e as d,f as R}from"./message-BDsTwkm-.js";import"./index-BFgWfo2C.js";import"./index-Be6aU4eT.js";import"./plus-C6EOZAEU.js";import"./trash-CtVCp9rW.js";import"./noFurtherActions-BBC3hgsu.js";let T=e=>e?e.replace(/(?!^)([A-Z])/g," $1"):"";const Y=({message:e})=>s.jsxs(B,{variant:e.from,children:[s.jsx(H,{from:e.from}),s.jsxs(I,{variant:e.from,children:[s.jsx(L,{className:"text-brand-sky mb-0 pb-0",children:T(e._type)}),s.jsx(P,{created_at:e.created_at.toString()}),s.jsxs(S,{children:[s.jsx(d,{label:"Contract Message Id",value:e.cn_message_id.slice(9,60)}),s.jsx(d,{label:"Contract Process Id",value:e.cn_process_id.slice(9,60)})]}),s.jsx(R,{content:JSON.stringify(e.content,null,8)})]})]},e.cn_message_id),U=()=>{const{cnProcess:e}=j.useParams(),{data:l}=p(e),r=l,{data:n}=g(e);return m.useEffect(()=>{console.log("ðŸ“¨ cnMessages:",n)},[n]),s.jsxs("div",{className:"space-y-4 pb-4",children:[s.jsxs(c,{level:"h5",className:"mt-3",children:["Contract negotiation info"," "]}),s.jsx("div",{className:"mb-4 gridColsLayout",children:s.jsxs(u,{children:[s.jsxs(a,{children:[s.jsx(t,{children:"ProviderPid"}),s.jsx(i,{variant:"info",children:r.provider_id.slice(9,29)+"[...]"})]}),s.jsxs(a,{children:[s.jsx(t,{children:"ConsumerPid"}),s.jsx(i,{variant:"info",children:r.consumer_id.slice(9,29)+"[...]"})]}),s.jsxs(a,{children:[s.jsx(t,{children:"State"}),s.jsx(i,{variant:"status",state:r.state,children:r.state})]}),s.jsxs(a,{children:[s.jsx(t,{children:"Client type"}),s.jsx(i,{children:r.is_business?"Business":"Standard"})]}),s.jsxs(a,{children:[s.jsx(t,{children:"Created at"}),s.jsx(C,{children:h(r.created_at).format("DD/MM/YYYY - HH:mm")})]})]})}),s.jsx("div",{children:s.jsxs(M,{direction:"right",children:[s.jsx(v,{children:s.jsx(o,{variant:"secondary",children:"See Contract Negotiation Messages"})}),s.jsxs(y,{children:[s.jsx(D,{children:s.jsx(_,{children:s.jsx(c,{level:"h5",className:"text-current",children:"Contract negotiation Messages"})})}),s.jsx(b,{children:n.map(x=>s.jsx(Y,{message:x}))}),s.jsx(N,{children:s.jsx(w,{children:s.jsx(o,{variant:"ghost",children:"Hide Messages"})})})]})]})}),s.jsx(f,{process:r,tiny:!1})]})};export{U as component};
