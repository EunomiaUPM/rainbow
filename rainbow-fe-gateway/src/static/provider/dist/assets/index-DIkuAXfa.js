import{j as s,B as n,ar as u,a as l}from"./index-BKNGGEqZ.js";import{d as c}from"./dayjs.min-55dgfSPC.js";import{a as v,b as M,c as D}from"./transfer-queries-UXW5EkxN.js";import{L as p,a as r,b as a}from"./list-0KhXwJaN.js";import{H as x}from"./heading-CTsk76kk.js";import{T as g,a as T,b as j,c as h}from"./tabs-C3nr2A5s.js";import{D as N,a as _,b,c as y,d as C,e as H,f as w,g as P}from"./drawer-CG8Xl6Dp.js";import{T as L}from"./TransferProcessActions-DieM-kD1.js";import{M as B,R as I,a as Y,b as S,c as A,d as R,e as m,f as G}from"./message-v6QlU69v.js";import"./index-12Y7aCG6.js";import"./noFurtherActions-XFS6o_li.js";let U=e=>e.replace(/(?!^)([A-Z])/g," $1");const F=({message:e})=>s.jsxs(B,{variant:e.from,children:[s.jsx(I,{from:e.from}),s.jsxs(Y,{variant:e.from,children:[s.jsx(S,{className:"text-brand-sky mb-0 pb-0",children:U(e.message_type)}),s.jsx(A,{created_at:e.created_at.toString()}),s.jsxs(R,{children:[s.jsx(m,{label:" Transfer Message Id",value:e.id.slice(9,60)}),s.jsx(m,{label:" Transfer Process Id",value:e.transfer_process_id.slice(9,60)})]}),s.jsx(G,{content:JSON.stringify(e.content,null,4)})]})]},e.id),K=({dataPlane:e})=>{const t="basis-[33%]";return s.jsxs(p,{className:"h-fit",children:[s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Data plane Id"}),s.jsx(n,{variant:"info",children:e.id.slice(9,-1)})]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Process Direction"}),s.jsx(n,{className:"uppercase",children:e.process_direction})]}),e.upstream_hop.url&&s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Upstream protocol"}),s.jsx(n,{className:"uppercase",children:e.upstream_hop.protocol})]}),e.downstream_hop.url&&s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Downstream protocol"}),s.jsx(n,{className:"uppercase",children:e.downstream_hop.protocol})]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Process address"}),s.jsx(n,{variant:"info",children:e.process_address.url.slice(0,-45)+"[...]"})]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Created At"}),c(e.created_at).format("DD/MM/YY HH:mm")]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Updated At"}),c(e.updated_at).format("DD/MM/YY HH:mm")]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"State"}),s.jsx(n,{variant:"status",state:e.state,children:e.state})]})]})},X=function(){const{transferProcessId:t}=u.useParams(),{data:i}=v(t),{data:f}=M(t),{data:o}=D(t);return s.jsxs("div",{className:"space-y-4 pb-4",children:[s.jsxs(g,{defaultValue:"data-control",className:"w-full",children:[s.jsxs(T,{children:[s.jsx(j,{value:"data-control",children:"Data Control"}),s.jsx(j,{value:"data-plane",children:"Data Plane"})]}),s.jsx(h,{value:"data-plane",className:"gridColsLayout",children:o&&s.jsx("div",{children:s.jsx(K,{dataPlane:o})})}),s.jsxs(h,{value:"data-control",children:[" ",s.jsxs(x,{level:"h5",className:"mt-3",children:["Transfer process info"," "]}),s.jsx("div",{className:"mb-4 gridColsLayout",children:s.jsxs(p,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Process pid"}),s.jsx(n,{variant:"info",children:i.provider_pid.slice(9,20)+"..."})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Consumer pid"}),s.jsx(n,{variant:"info",children:i.consumer_pid.slice(9,20)+"..."})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Agreement id"}),s.jsx(n,{variant:"info",children:i.agreement_id.slice(9,20)+"..."})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Transfer Process State"}),s.jsx(n,{variant:"status",state:i.state,children:i.state})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Created at"}),s.jsxs("p",{children:[" ",c(i.created_at).format("DD/MM/YY HH:mm")]})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Updated at"}),s.jsxs("p",{children:[" ",c(i.updated_at).format("DD/MM/YY HH:mm")]})]})]})}),s.jsxs(N,{direction:"right",children:[s.jsx(_,{children:s.jsx(l,{variant:"secondary",children:"See Transfer Process Messages"})}),s.jsxs(b,{children:[s.jsx(y,{children:s.jsx(C,{children:s.jsx(x,{level:"h5",className:"text-current",children:"Transfer Messages"})})}),s.jsx(H,{children:f.map(d=>s.jsx(F,{message:d},d.id))}),s.jsx(w,{children:s.jsx(P,{children:s.jsx(l,{variant:"ghost",children:"Hide Messages"})})})]})]})]})]}),s.jsx("div",{}),s.jsx("div",{}),s.jsx(L,{process:i,tiny:!1})]})};export{X as component};
