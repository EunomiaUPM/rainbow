import{aW as j,r as o,aw as f,G as u,j as s,B as c,a as N}from"./index-omH1oWRl.js";import{a as y}from"./datahub-catalog-queries-CGh16eOf.js";import{u as g,P as D}from"./PolicyWrapperNew-BqSLaegH.js";import{P as w}from"./PolicyWrapperShow-BEncyVi0.js";import{H as r}from"./heading-BXPqTu4h.js";import{L as P,a as v,b}from"./list-cTQVuLal.js";import{D as C,a as I,b as L,c as O,d as R}from"./drawer-DhPcwUCn.js";import{P as S}from"./plus-C6EOZAEU.js";import"./index-BFgWfo2C.js";import"./index-Be6aU4eT.js";import"./trash-CtVCp9rW.js";const q=function(){const{datasetId:e}=j.useParams(),{data:t}=y(e),[l,i]=o.useState(!1),{data:n}=f(e),{mutateAsync:m}=g(),{api_gateway:d}=o.useContext(u),p={participant_type:"Provider"},x=async a=>{await m({api_gateway:d,datasetId:e,content:{offer:JSON.stringify(a)}}),i(!1)};return s.jsxs("div",{className:"space-y-4 pb-4",children:[s.jsxs(r,{level:"h3",className:"flex gap-2 items-center",children:["Dataset",s.jsx(c,{variant:"info",size:"lg",children:t.name})]}),s.jsx(P,{className:"text-sm w-2/3",children:t.custom_properties.map((a,h)=>s.jsxs(v,{children:[s.jsx(b,{className:"basis-[30%] text-sky-300",children:a[0]}),s.jsx("p",{className:"text-gray-300/90",children:a[1]})]},h))}),s.jsx("div",{className:"h-2"}),s.jsxs("div",{className:" flex flex-row  justify-start gap-3 items-center",children:[s.jsx(r,{level:"h5",className:"mb-0",children:"ODRL Policies"}),s.jsxs(C,{direction:"right",open:l,onOpenChange:a=>i(a),children:[s.jsx(I,{asChild:!0,children:s.jsxs(N,{variant:"default",size:"sm",className:"mb-1 ml-3",children:["Add ODRL policy",s.jsx(S,{className:""})]})}),s.jsxs(L,{children:[s.jsx(O,{className:"px-8",children:s.jsxs(R,{children:[s.jsx(r,{level:"h4",className:"text-current mb-1 ",children:"New ODRL Policy"}),s.jsxs("p",{className:"font-normal text-brand-sky",children:["for Dataset",s.jsx(c,{variant:"info",size:"sm",className:"ml-2",children:t.name})]})]})}),s.jsx(D,{onSubmit:x})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:n&&n.map(a=>s.jsx(w,{policy:a,participant:p,datasetId:e,catalogId:void 0,datasetName:""},a["@id"]))})]})};export{q as component};
