import{j as s,ay as u,H as l,B as x}from"./index-BxZieQ9z.js";import{d as i}from"./dayjs.min-DonDe7fm.js";import{a as v,b as M,c as D}from"./transfer-queries-CTfBPmuw.js";import{L as p,a as r,b as a}from"./list-DQim2EBq.js";import{B as n}from"./badge-Bz1Ugnvi.js";import{T,a as g,b as j,c as m}from"./tabs-CsXxUmN-.js";import{D as N,a as _,b,c as y,d as C,e as H,f as w,g as P}from"./drawer-DrIjz4jZ.js";import{T as B}from"./TransferProcessActions-Cz4F4sl0.js";import{M as L,R as I,a as Y,b as S,c as R,d as A,e as h,f as G}from"./message-DdETYd7e.js";import"./index-D-EQ7iXp.js";import"./transfer-mutations-DVnZnZ54.js";import"./noFurtherActions-BcB2gfQv.js";const U=({dataPlane:e})=>{const t="basis-[33%]";return s.jsxs(p,{className:"h-fit",children:[s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Data plane Id"}),s.jsx(n,{variant:"info",children:e.id.slice(9,-1)})]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Process Direction"}),s.jsx(n,{className:"uppercase",children:e.process_direction})]}),e.upstream_hop.url&&s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Upstream protocol"}),s.jsx(n,{className:"uppercase",children:e.upstream_hop.protocol})]}),e.downstream_hop.url&&s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Downstream protocol"}),s.jsx(n,{className:"uppercase",children:e.downstream_hop.protocol})]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Process address"}),s.jsx(n,{variant:"info",children:e.process_address.url.slice(0,-45)+"[...]"})]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Created At"}),i(e.created_at).format("DD/MM/YY HH:mm")]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"Updated At"}),i(e.updated_at).format("DD/MM/YY HH:mm")]}),s.jsxs(r,{children:[s.jsx(a,{className:t,children:"State"}),s.jsx(n,{variant:"status",state:e.state,children:e.state})]})]})};let F=e=>e.replace(/(?!^)([A-Z])/g," $1");const K=({message:e})=>s.jsxs(L,{variant:e.from,children:[s.jsx(I,{from:e.from}),s.jsxs(Y,{variant:e.from,children:[s.jsx(S,{className:"text-brand-sky mb-0 pb-0",children:F(e.message_type)}),s.jsx(R,{created_at:e.created_at.toString()}),s.jsxs(A,{children:[s.jsx(h,{label:" Transfer Message Id",value:e.id.slice(9,60)}),s.jsx(h,{label:" Transfer Process Id",value:e.transfer_process_id.slice(9,60)})]}),s.jsx(G,{content:JSON.stringify(e.content,null,4)})]})]},e.id),ss=function(){const{transferProcessId:t}=u.useParams(),{data:c}=v(t),{data:f}=M(t),{data:o}=D(c.consumer_pid);return s.jsxs("div",{className:"space-y-4 pb-4",children:[s.jsxs(T,{defaultValue:"data-control",className:"w-full",children:[s.jsxs(g,{children:[s.jsx(j,{value:"data-control",children:"Data Control"}),s.jsx(j,{value:"data-plane",children:"Data Plane"})]}),s.jsx(m,{value:"data-plane",className:"gridColsLayout",children:o&&s.jsx("div",{children:s.jsx(U,{dataPlane:o})})}),s.jsxs(m,{value:"data-control",children:[" ",s.jsxs(l,{level:"h5",className:"mt-3",children:["Transfer process info"," "]}),s.jsx("div",{className:"mb-4 gridColsLayout",children:s.jsxs(p,{children:[s.jsxs(r,{children:[s.jsx(a,{children:"Process pid"}),s.jsx(n,{variant:"info",children:c.provider_pid.slice(9,20)+"..."})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Consumer pid"}),s.jsx(n,{variant:"info",children:c.consumer_pid.slice(9,20)+"..."})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Transfer Process State"}),s.jsx(n,{variant:"status",state:c.state,children:c.state})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Created at"}),s.jsxs("p",{children:[" ",i(c.created_at).format("DD/MM/YY HH:mm")]})]}),s.jsxs(r,{children:[s.jsx(a,{children:"Updated at"}),s.jsxs("p",{children:[" ",i(c.updated_at).format("DD/MM/YY HH:mm")]})]})]})}),s.jsxs(N,{direction:"right",children:[s.jsx(_,{children:s.jsx(x,{variant:"secondary",children:"See Transfer Process Messages"})}),s.jsxs(b,{children:[s.jsx(y,{children:s.jsx(C,{children:s.jsx(l,{level:"h5",className:"text-current",children:"Transfer Messages"})})}),s.jsx(H,{children:f.map(d=>s.jsx(K,{message:d},d.id))}),s.jsx(w,{children:s.jsx(P,{children:s.jsx(x,{variant:"ghost",children:"Hide Messages"})})})]})]})]})]}),s.jsx("div",{}),s.jsx("div",{}),s.jsx(B,{process:c,tiny:!1})]})};export{ss as component};
