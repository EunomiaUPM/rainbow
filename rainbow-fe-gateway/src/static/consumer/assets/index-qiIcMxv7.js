import{r as _,G as w,i as y,j as e,D,F as N,s as F,t as A,v as R,k as x,l as h,o as m,p as j,q as p,w as V,x as E,B as d,I as L,y as P,z as k,L as q}from"./index-BAHtZRt5.js";import{u as H}from"./agreement-queries-BIN9QTzc.js";import{T as B,a as U,b as u,c as l,d as G,e as t}from"./table-D7ydnTSG.js";import{d as M}from"./dayjs.min-d0FxSukb.js";import{B as c}from"./badge-DhRbdQWa.js";import{S as f,a as g,b as C,c as T,d as b}from"./select-CWMeq0mN.js";import{u as $}from"./transfer-mutations-ClloQyMS.js";import{A as z}from"./arrow-right-DCuk5qsx.js";import"./index-B9z-BDNq.js";const v=["PULL","PUSH"],S=["http","kafka","ftp"],Y=({agreement:i})=>{const{mutateAsync:n}=$(),{api_gateway:s}=_.useContext(w),o=y({defaultValues:{method:"PULL",transfer_protocol:"http"}}),I=async a=>{await n({api_gateway:s,content:{providerParticipantId:i.provider_participant_id,agreementId:i.agreement_id,format:`${a.transfer_protocol}+${a.method}`.toLowerCase()}})};return e.jsx(D,{children:e.jsx(N,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(I),className:"flex flex-col gap-4",children:[e.jsxs(F,{children:[e.jsx(A,{children:"Transfer request dialog"}),e.jsx(R,{className:"max-w-full flex flex-wrap break-all",children:e.jsxs("span",{className:"max-w-full flex flex-wrap",children:["Select the transference's parameters for",e.jsx(c,{variant:"info",children:i.agreement_id.slice(9,30)+"[...]"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(x,{control:o.control,name:"method",render:({field:a})=>e.jsxs(h,{children:[e.jsx("label",{htmlFor:"method",className:"text-sm mb-1 text-inherit",children:"Method"}),e.jsx(m,{children:e.jsxs(f,{...a,defaultValue:v[0],onValueChange:a.onChange,children:[e.jsx(g,{className:"w-[240px]",children:e.jsx(C,{placeholder:"Select a transfer protocol"})}),e.jsx(T,{children:v.map(r=>e.jsx(b,{value:r,children:r},r))})]})}),e.jsx(j,{children:"This is your public display name."}),e.jsx(p,{})]})}),e.jsx(x,{control:o.control,name:"transfer_protocol",render:({field:a})=>e.jsxs(h,{children:[e.jsx("label",{htmlFor:"transfer_protocol",className:"text-sm mb-1",children:"Transfer protocol"}),e.jsx(m,{children:e.jsxs(f,{...a,defaultValue:S[0],onValueChange:a.onChange,children:[e.jsx(g,{className:"w-[240px]",children:e.jsx(C,{placeholder:"Select a transfer protocol"})}),e.jsx(T,{children:S.map(r=>e.jsx(b,{value:r,children:r},r))})]})}),e.jsx(j,{children:"This is your public display name."}),e.jsx(p,{})]})})]}),e.jsxs(V,{className:"[&>*]:w-full",children:[e.jsx(E,{asChild:!0,children:e.jsx(d,{variant:"ghost",type:"reset",children:"Cancel"})}),e.jsx(d,{variant:"default",type:"submit",children:"Request access"})]})]})})})},ae=function(){const{data:n}=H();return n.map(s=>{console.log(s)}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("div",{className:"pb-3 w-3/5",children:e.jsx(L,{type:"search"})}),e.jsxs(B,{className:"text-sm",children:[e.jsx(U,{children:e.jsxs(u,{children:[e.jsx(l,{children:"Agreement Id"}),e.jsx(l,{children:"Provider Participant Id"}),e.jsx(l,{children:"Status"}),e.jsx(l,{children:"Created at"}),e.jsx(l,{children:"Actions"}),e.jsx(l,{children:"Link"})]})}),e.jsx(G,{children:n.map(s=>e.jsxs(u,{children:[e.jsx(t,{children:e.jsx(c,{variant:"info",children:s.agreement_id.slice(9,20)+"..."})}),e.jsx(t,{children:e.jsx(c,{variant:"info",children:s.provider_participant_id.slice(9,20)+"..."})}),e.jsx(t,{children:e.jsx(c,{variant:"status",state:s.active?"ACTIVE":"INACTIVE",children:s.active?"ACTIVE":"INACTIVE"})}),e.jsx(t,{children:M(s.created_at).format("DD/MM/YY HH:mm")}),e.jsx(t,{children:e.jsxs(P,{children:[e.jsx(k,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",children:"REQUEST TRANSFER"})}),e.jsx(Y,{agreement:s})]})}),e.jsx(t,{children:e.jsx(q,{to:"/agreements/$agreementId",params:{agreementId:s.agreement_id},children:e.jsxs(d,{variant:"link",children:["See details",e.jsx(z,{})]})})})]},s.agreement_id.slice(9,20)))})]})]})})};export{ae as component};
