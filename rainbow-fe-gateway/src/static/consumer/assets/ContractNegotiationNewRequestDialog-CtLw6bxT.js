import{r as l,i as f,ad as h,G as j,j as e,D as g,s as p,t as C,v as N,F as w,w as D,x as v,B as c}from"./index-BAHtZRt5.js";import{P as y}from"./PolicyWrapperShow-CSPmaTRR.js";const q=({policy:t,catalogId:a,datasetId:o,participantId:i})=>{const n=l.useRef(null),s=f({}),{handleSubmit:x}=s,{mutateAsync:u}=h(),{api_gateway:d}=l.useContext(j),m=async()=>{var r;await u({api_gateway:d,content:{providerParticipantId:i,offer:{"@id":t["@id"]}}}),s.reset(),(r=n.current)==null||r.click()};return e.jsxs(g,{className:"max-w-fit sm:max-w-fi ",children:[e.jsxs(p,{children:[e.jsx(C,{children:"Contract Negotiation Request"}),e.jsxs(N,{className:"max-w-full flex flex-col break-all gap-2",children:[e.jsx("div",{className:"max-w-full flex",children:"You are to request a contract negotiation to dataset under policy."}),e.jsx("div",{children:a}),e.jsx("div",{children:o}),e.jsx("div",{children:e.jsx(y,{policy:t,datasetId:o,catalogId:a,participant:i,datasetName:""})})]})]}),e.jsx(w,{...s,children:e.jsx("form",{onSubmit:x(m),className:"space-y-6",children:e.jsxs(D,{className:"[&>*]:w-full",children:[e.jsx(v,{asChild:!0,ref:n,children:e.jsx(c,{variant:"ghost",type:"reset",children:"Cancel"})}),e.jsx(c,{variant:"default",type:"submit",children:"Request Contract Negotiation"})]})})})]})};export{q as C};
