import{i as P,r as C,G as N,j as e,D as w,s as D,t as S,v as T,F as A,w as F,x as Y,B as d,M as E,y as m,z as o}from"./index-BAHtZRt5.js";import{a as R,b as L,c as V,d as U}from"./transfer-mutations-ClloQyMS.js";import{d as v}from"./dayjs.min-d0FxSukb.js";import{B as n}from"./badge-DhRbdQWa.js";import{L as M,a as r,b as i}from"./list-jggyKCr8.js";import{N as b}from"./noFurtherActions-yE6cfaSP.js";const I=({process:s})=>{var j,u;const t=P({}),{handleSubmit:c,control:p,setValue:y,getValues:H}=t,{mutateAsync:x}=R(),{api_gateway:h,dsrole:l}=C.useContext(N),f=()=>{if(l=="provider")return x({api_gateway:h,content:{consumerParticipantId:s.associated_consumer,consumerCallbackAddress:s.data_plane_id,consumerPid:s.consumer_pid,providerPid:s.provider_pid}});if(l=="consumer")return x({api_gateway:h,content:{providerParticipantId:s.associated_provider,consumerPid:s.consumer_pid,providerPid:s.provider_pid}})},a="basis-[33%]";return e.jsxs(w,{className:"w-[70dvw] sm:max-w-fit",children:[e.jsxs(D,{children:[e.jsx(S,{children:"Transfer start dialog"}),e.jsx(T,{children:e.jsx("span",{children:"You are about to start the transfer process with the following information."})})]}),e.jsxs(M,{className:"min-w-full  px-2",children:[e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Provider Participant id:"}),e.jsx(n,{variant:"info",children:s.provider_pid.slice(9,-1)})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Consumer Participant id:"}),e.jsx(n,{variant:"info",children:s.consumer_pid.slice(9,-1)})]}),e.jsxs(r,{children:[l=="provider"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated consumer:"}),e.jsx(n,{variant:"info",children:((j=s.associated_consumer)==null?void 0:j.slice(9,40))+"[...]"})]}),l=="consumer"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated provider:"}),e.jsx(n,{variant:"info",children:((u=s.associated_provider)==null?void 0:u.slice(9,40))+"[...]"})]})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Current state:"}),e.jsx(n,{variant:"status",state:s.state,children:s.state})]}),s.state_attribute&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"State attribute:"}),e.jsx(n,{variant:"status",state:s.state_attribute,children:s.state_attribute})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Created at:"}),v(s.created_at).format("DD/MM/YY HH:mm")]}),s.updated_at&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Updated at:"}),v(s.updated_at).format("DD/MM/YY HH:mm")]})]}),e.jsx(A,{...t,children:e.jsx("form",{onSubmit:c(f),className:"space-y-6",children:e.jsxs(F,{className:"[&>*]:w-full",children:[e.jsx(Y,{asChild:!0,children:e.jsx(d,{variant:"ghost",type:"reset",children:"Cancel"})}),e.jsx(d,{type:"submit",children:"Start"})]})})})]})},_=({process:s})=>{var j,u;const t=P({}),{handleSubmit:c,control:p,setValue:y,getValues:H}=t,{mutateAsync:x}=L(),{api_gateway:h,dsrole:l}=C.useContext(N),f=async()=>{l=="provider"&&await x({api_gateway:h,content:{consumerParticipantId:s.associated_consumer,consumerCallbackAddress:s.data_plane_id,consumerPid:s.consumer_pid,providerPid:s.provider_pid}}),l=="consumer"&&await x({api_gateway:h,content:{providerParticipantId:s.associated_provider,consumerPid:s.consumer_pid,providerPid:s.provider_pid}})},a="basis-[33%]";return e.jsxs(w,{className:"w-[70dvw] sm:max-w-fit",children:[e.jsxs(D,{children:[e.jsx(S,{children:"Transfer termination dialog"}),e.jsx(T,{className:"max-w-full flex flex-wrap",children:e.jsx("span",{className:"max-w-full flex flex-wrap",children:"You are about to terminate the transfer process."})})]}),e.jsxs(M,{className:"min-w-full  px-2",children:[e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Provider Participant id:"}),e.jsx(n,{variant:"info",children:s.provider_pid.slice(9,-1)})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Consumer Participant id:"}),e.jsx(n,{variant:"info",children:s.consumer_pid.slice(9,-1)})]}),e.jsxs(r,{children:[l=="provider"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated consumer:"}),e.jsx(n,{variant:"info",children:((j=s.associated_consumer)==null?void 0:j.slice(9,40))+"[...]"})]}),l=="consumer"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated provider:"}),e.jsx(n,{variant:"info",children:((u=s.associated_provider)==null?void 0:u.slice(9,40))+"[...]"})]})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Current state:"}),e.jsx(n,{variant:"status",state:s.state,children:s.state})]}),s.state_attribute&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"State attribute:"}),e.jsx(n,{variant:"status",state:s.state_attribute,children:s.state_attribute})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Created at:"}),v(s.created_at).format("DD/MM/YY HH:mm")]}),s.updated_at&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Updated at:"}),v(s.updated_at).format("DD/MM/YY HH:mm")]})]}),e.jsx(A,{...t,children:e.jsx("form",{onSubmit:c(f),className:"space-y-6",children:e.jsxs(F,{className:"[&>*]:w-full",children:[e.jsx(Y,{asChild:!0,children:e.jsx(d,{variant:"ghost",type:"reset",children:"Cancel"})}),e.jsx(d,{variant:"destructive",type:"submit",children:"Terminate"})]})})})]})},z=({process:s})=>{var j,u;const t=P({}),{handleSubmit:c,control:p,setValue:y,getValues:H}=t,{mutateAsync:x}=V(),{api_gateway:h,dsrole:l}=C.useContext(N),f=()=>{if(l=="provider")return x({api_gateway:h,content:{consumerParticipantId:s.associated_consumer,consumerCallbackAddress:s.data_plane_id,consumerPid:s.consumer_pid,providerPid:s.provider_pid}});l=="consumer"&&x({api_gateway:h,content:{providerParticipantId:s.associated_provider,consumerPid:s.consumer_pid,providerPid:s.provider_pid}})},a="basis-[33%]";return e.jsxs(w,{className:"w-[70dvw] sm:max-w-fit",children:[e.jsxs(D,{children:[e.jsx(S,{children:"Transfer suspension dialog"}),e.jsx(T,{children:e.jsx("span",{children:"You are about to suspend the transfer process with the following information."})})]}),e.jsxs(M,{className:"min-w-full  px-2",children:[e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Provider Participant id:"}),e.jsx(n,{variant:"info",children:s.provider_pid.slice(9,-1)})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Consumer Participant id:"}),e.jsx(n,{variant:"info",children:s.consumer_pid.slice(9,-1)})]}),e.jsxs(r,{children:[l=="provider"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated consumer:"}),e.jsx(n,{variant:"info",children:((j=s.associated_consumer)==null?void 0:j.slice(9,40))+"[...]"})]}),l=="consumer"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated provider:"}),e.jsx(n,{variant:"info",children:((u=s.associated_provider)==null?void 0:u.slice(9,40))+"[...]"})]})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Current state:"}),e.jsx(n,{variant:"status",state:s.state,children:s.state})]}),s.state_attribute&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"State attribute:"}),e.jsx(n,{variant:"status",state:s.state_attribute,children:s.state_attribute})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Created at:"}),v(s.created_at).format("DD/MM/YY HH:mm")]}),s.updated_at&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Updated at:"}),v(s.updated_at).format("DD/MM/YY HH:mm")]})]}),e.jsx(A,{...t,children:e.jsx("form",{onSubmit:c(f),className:"space-y-6",children:e.jsxs(F,{className:"[&>*]:w-full",children:[e.jsx(Y,{asChild:!0,children:e.jsx(d,{variant:"ghost",type:"reset",children:"Cancel"})}),e.jsx(d,{type:"submit",children:"Suspend"})]})})})]})},g=({process:s})=>{var j,u;const t=P({}),{handleSubmit:c,control:p,setValue:y,getValues:H}=t,{mutateAsync:x}=U(),{api_gateway:h,dsrole:l}=C.useContext(N),f=()=>{if(l=="provider")return x({api_gateway:h,content:{consumerParticipantId:s.associated_consumer,consumerCallbackAddress:s.data_plane_id,consumerPid:s.consumer_pid,providerPid:s.provider_pid}});l=="consumer"&&x({api_gateway:h,content:{providerParticipantId:s.associated_provider,consumerPid:s.consumer_pid,providerPid:s.provider_pid}})},a="basis-[33%]";return e.jsxs(w,{className:"w-[70dvw] sm:max-w-fit",children:[e.jsxs(D,{children:[e.jsx(S,{children:"Transfer completion dialog"}),e.jsx(T,{children:e.jsx("span",{children:"You are about to complete the transfer process with the following information."})})]}),e.jsxs(M,{className:"min-w-full  px-2",children:[e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Provider Participant id:"}),e.jsx(n,{variant:"info",children:s.provider_pid.slice(9,-1)})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Consumer Participant id:"}),e.jsx(n,{variant:"info",children:s.consumer_pid.slice(9,-1)})]}),e.jsxs(r,{children:[l=="provider"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated consumer:"}),e.jsx(n,{variant:"info",children:((j=s.associated_consumer)==null?void 0:j.slice(9,40))+"[...]"})]}),l=="consumer"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:a,children:"Associated provider:"}),e.jsx(n,{variant:"info",children:((u=s.associated_provider)==null?void 0:u.slice(9,40))+"[...]"})]})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Current state:"}),e.jsx(n,{variant:"status",state:s.state,children:s.state})]}),s.state_attribute&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"State attribute:"}),e.jsx(n,{variant:"status",state:s.state_attribute,children:s.state_attribute})]}),e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Created at:"}),v(s.created_at).format("DD/MM/YY HH:mm")]}),s.updated_at&&e.jsxs(r,{children:[e.jsx(i,{className:a,children:"Updated at:"}),v(s.updated_at).format("DD/MM/YY HH:mm")]})]}),e.jsx(A,{...t,children:e.jsx("form",{onSubmit:c(f),className:"space-y-6",children:e.jsxs(F,{className:"[&>*]:w-full",children:[e.jsx(Y,{asChild:!0,children:e.jsx(d,{variant:"ghost",type:"reset",children:"Cancel"})}),e.jsx(d,{type:"submit",children:"Complete"})]})})})]})},q=({process:s,tiny:t=!1})=>{const{dsrole:c}=C.useContext(N),p=E("",{variants:{tiny:{true:"inline-flex items-center ",false:"bg-background  w-full p-6 pt-4 fixed bottom-0 left-0 md:left-[223px] bg-primary-950/10 border border-t-stroke [&>*>button]:min-w-20"}}});return e.jsxs("div",{className:p({tiny:t}),children:[s.state==="REQUESTED"&&e.jsxs("div",{className:"space-x-2",children:[c==="provider"&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:t?"sm":"",children:"Terminate"})}),e.jsx(_,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{size:t?"sm":"",children:"Start"})}),e.jsx(I,{process:s})]})]}),c==="consumer"&&e.jsx(e.Fragment,{children:e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:t?"sm":"",children:"Terminate"})}),e.jsx(_,{process:s})]})})]}),s.state==="STARTED"&&e.jsxs("div",{className:"space-x-2",children:[c==="provider"&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:t?"sm":"",children:"Terminate"})}),e.jsx(_,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"outline",size:t?"sm":"",children:"Suspend"})}),e.jsx(z,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"outline",size:t?"sm":"",children:"Complete"})}),e.jsx(g,{process:s})]})]}),c==="consumer"&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:t?"sm":"",children:"Terminate"})}),e.jsx(_,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"outline",size:t?"sm":"",children:"Suspend"})}),e.jsx(z,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"outline",size:t?"sm":"",children:"Complete"})}),e.jsx(g,{process:s})]})]})]}),s.state==="SUSPENDED"&&e.jsxs("div",{className:"space-x-2",children:[c==="provider"&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:t?"sm":"",children:"Terminate"})}),e.jsx(_,{process:s})]}),s.state_attribute&&s.state_attribute!=="BY_CONSUMER"&&e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{size:t?"sm":"",children:"Start"})}),e.jsx(I,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"outline",size:t?"sm":"",children:"Complete"})}),e.jsx(g,{process:s})]})]}),c==="consumer"&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"destructive",size:t?"sm":"",children:"Terminate"})}),e.jsx(_,{process:s})]}),s.state_attribute&&s.state_attribute!=="BY_PROVIDER"&&e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{size:t?"sm":"",children:"Start"})}),e.jsx(I,{process:s})]}),e.jsxs(m,{children:[e.jsx(o,{asChild:!0,children:e.jsx(d,{variant:"outline",size:t?"sm":"",children:"Complete"})}),e.jsx(g,{process:s})]})]})]}),s.state==="COMPLETED"&&e.jsxs("div",{className:"space-x-2",children:[c==="provider"&&e.jsx(e.Fragment,{children:e.jsx(b,{})}),c==="consumer"&&e.jsx(e.Fragment,{children:e.jsx(b,{})})]}),s.state==="TERMINATED"&&e.jsxs("div",{className:"space-x-2",children:[c==="provider"&&e.jsx(e.Fragment,{children:e.jsx(b,{})}),c==="consumer"&&e.jsx(e.Fragment,{children:e.jsx(b,{})})]})]})};export{q as T};
