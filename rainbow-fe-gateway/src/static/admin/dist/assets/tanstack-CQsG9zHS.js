var Js=t=>{throw TypeError(t)};var ls=(t,e,s)=>e.has(t)||Js("Cannot "+s);var l=(t,e,s)=>(ls(t,e,"read from private field"),s?s.call(t):e.get(t)),k=(t,e,s)=>e.has(t)?Js("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),P=(t,e,s,r)=>(ls(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),T=(t,e,s)=>(ls(t,e,"access private method"),s);var Vt=(t,e,s,r)=>({set _(n){P(t,e,n,s)},get _(){return l(t,e,r)}});import{j as O,r as x,a as tn}from"./ui-B_Y8HlyQ.js";import{r as Mr}from"./vendor-BtP0CW_r.js";var sn="Invariant failed";function _e(t,e){if(!t)throw new Error(sn)}function ht(t){const e=t.resolvedLocation,s=t.location,r=(e==null?void 0:e.pathname)!==s.pathname,n=(e==null?void 0:e.href)!==s.href,o=(e==null?void 0:e.hash)!==s.hash;return{fromLocation:e,toLocation:s,pathChanged:r,hrefChanged:n,hashChanged:o}}const rn="Error preloading route! ☝️";function Tt(t){return t[t.length-1]}function nn(t){return typeof t=="function"}function Ge(t,e){return nn(t)?t(e):t}function Ps(t,e){return e.reduce((s,r)=>(s[r]=t[r],s),{})}function pe(t,e){if(t===e)return t;const s=e,r=Ys(t)&&Ys(s);if(r||Yt(t)&&Yt(s)){const n=r?t:Object.keys(t),o=n.length,i=r?s:Object.keys(s),c=i.length,d=r?[]:{};let h=0;for(let u=0;u<c;u++){const a=r?u:i[u];(!r&&n.includes(a)||r)&&t[a]===void 0&&s[a]===void 0?(d[a]=void 0,h++):(d[a]=pe(t[a],s[a]),d[a]===t[a]&&t[a]!==void 0&&h++)}return o===c&&h===o?t:d}return s}function Yt(t){if(!Xs(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!Xs(s)||!s.hasOwnProperty("isPrototypeOf"))}function Xs(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ys(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zs(t,e){let s=Object.keys(t);return e&&(s=s.filter(r=>t[r]!==void 0)),s}function dt(t,e,s){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Yt(t)&&Yt(e)){const r=(s==null?void 0:s.ignoreUndefined)??!0,n=Zs(t,r),o=Zs(e,r);return!(s!=null&&s.partial)&&n.length!==o.length?!1:o.every(i=>dt(t[i],e[i],s))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,n)=>!dt(r,e[n],s)):!1}function ut(t){let e,s;const r=new Promise((n,o)=>{e=n,s=o});return r.status="pending",r.resolve=n=>{r.status="resolved",r.value=n,e(n),t==null||t(n)},r.reject=n=>{r.status="rejected",s(n)},r}function on(t){return/%[0-9A-Fa-f]{2}/.test(t)}function Oe(t){return as(t.filter(e=>e!==void 0).join("/"))}function as(t){return t.replace(/\/{2,}/g,"/")}function Ks(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Je(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function an(t){return Je(Ks(t))}function Zt(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function cn(t,e,s){return Zt(t,s)===Zt(e,s)}function un({basepath:t,base:e,to:s,trailingSlash:r="never",caseSensitive:n}){var o,i;e=es(t,e,n),s=es(t,s,n);let c=Ft(e);const d=Ft(s);c.length>1&&((o=Tt(c))==null?void 0:o.value)==="/"&&c.pop(),d.forEach((u,a)=>{u.value==="/"?a?a===d.length-1&&c.push(u):c=[u]:u.value===".."?c.pop():u.value==="."||c.push(u)}),c.length>1&&(((i=Tt(c))==null?void 0:i.value)==="/"?r==="never"&&c.pop():r==="always"&&c.push({type:"pathname",value:"/"}));const h=Oe([t,...c.map(u=>u.value)]);return as(h)}function Ft(t){if(!t)return[];t=as(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const s=t.split("/").filter(Boolean);return e.push(...s.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Ht({path:t,params:e,leaveWildcards:s,leaveParams:r,decodeCharMap:n}){const o=Ft(t);function i(h){const u=e[h],a=typeof u=="string";return["*","_splat"].includes(h)?a?encodeURI(u):u:a?ln(u,n):u}const c={},d=Oe(o.map(h=>{if(h.type==="wildcard"){c._splat=e._splat;const u=i("_splat");return s?`${h.value}${u??""}`:u}if(h.type==="param"){const u=h.value.substring(1);if(c[u]=e[u],r){const a=i(h.value);return`${h.value}${a??""}`}return i(u)??"undefined"}return h.value}));return{usedParams:c,interpolatedPath:d}}function ln(t,e){let s=encodeURIComponent(t);if(e)for(const[r,n]of e)s=s.replaceAll(r,n);return s}function $t(t,e,s){const r=hn(t,e,s);if(!(s.to&&!r))return r??{}}function es(t,e,s=!1){const r=s?t:t.toLowerCase(),n=s?e:e.toLowerCase();switch(!0){case r==="/":return e;case n===r:return"";case e.length<t.length:return e;case n[r.length]!=="/":return e;case n.startsWith(r):return e.slice(t.length);default:return e}}function hn(t,e,s){if(t!=="/"&&!e.startsWith(t))return;e=es(t,e,s.caseSensitive);const r=es(t,`${s.to??"$"}`,s.caseSensitive),n=Ft(e),o=Ft(r);e.startsWith("/")||n.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const i={};return(()=>{for(let d=0;d<Math.max(n.length,o.length);d++){const h=n[d],u=o[d],a=d>=n.length-1,p=d>=o.length-1;if(u){if(u.type==="wildcard"){const y=decodeURI(Oe(n.slice(d).map(g=>g.value)));return i["*"]=y,i._splat=y,!0}if(u.type==="pathname"){if(u.value==="/"&&!(h!=null&&h.value))return!0;if(h){if(s.caseSensitive){if(u.value!==h.value)return!1}else if(u.value.toLowerCase()!==h.value.toLowerCase())return!1}}if(!h)return!1;if(u.type==="param"){if(h.value==="/")return!1;h.value.charAt(0)!=="$"&&(i[u.value.substring(1)]=decodeURIComponent(h.value))}}if(!a&&p)return i["**"]=Oe(n.slice(d+1).map(y=>y.value)),!!s.fuzzy&&(u==null?void 0:u.value)!=="/"}return!0})()?i:void 0}function dn(t,e){let s,r,n,o="";for(s in t)if((n=t[s])!==void 0)if(Array.isArray(n))for(r=0;r<n.length;r++)o&&(o+="&"),o+=encodeURIComponent(s)+"="+encodeURIComponent(n[r]);else o&&(o+="&"),o+=encodeURIComponent(s)+"="+encodeURIComponent(n);return""+o}function er(t){if(!t)return"";const e=on(t)?decodeURIComponent(t):decodeURIComponent(encodeURIComponent(t));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function fn(t,e){let s,r;const n={},o=t.split("&");for(;s=o.shift();){const i=s.indexOf("=");if(i!==-1){r=s.slice(0,i),r=decodeURIComponent(r);const c=s.slice(i+1);n[r]!==void 0?n[r]=[].concat(n[r],er(c)):n[r]=er(c)}else r=s,r=decodeURIComponent(r),n[r]=""}return n}const fe="__root__",pn=yn(JSON.parse),mn=vn(JSON.stringify,JSON.parse);function yn(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const s=fn(e);for(const r in s){const n=s[r];if(typeof n=="string")try{s[r]=t(n)}catch{}}return s}}function vn(t,e){function s(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(o=>{const i=r[o];typeof i>"u"||i===void 0?delete r[o]:r[o]=s(i)});const n=dn(r).toString();return n?`?${n}`:""}}const Ve="__TSR_index",tr="popstate",sr="beforeunload";function Er(t){let e=t.getLocation();const s=new Set,r=i=>{e=t.getLocation(),s.forEach(c=>c({location:e,action:i}))},n=i=>{t.notifyOnIndexChange??!0?r(i):e=t.getLocation()},o=async({task:i,navigateOpts:c,...d})=>{var h,u;if((c==null?void 0:c.ignoreBlocker)??!1){i();return}const p=((h=t.getBlockers)==null?void 0:h.call(t))??[],y=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&p.length&&y)for(const g of p){const v=jt(d.path,d.state);if(await g.blockerFn({currentLocation:e,nextLocation:v,action:d.type})){(u=t.onBlocked)==null||u.call(t);return}}i()};return{get location(){return e},get length(){return t.getLength()},subscribers:s,subscribe:i=>(s.add(i),()=>{s.delete(i)}),push:(i,c,d)=>{const h=e.state[Ve];c=Cs(h+1,c),o({task:()=>{t.pushState(i,c),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:i,state:c})},replace:(i,c,d)=>{const h=e.state[Ve];c=Cs(h,c),o({task:()=>{t.replaceState(i,c),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:i,state:c})},go:(i,c)=>{o({task:()=>{t.go(i),n({type:"GO",index:i})},navigateOpts:c,type:"GO"})},back:i=>{o({task:()=>{t.back((i==null?void 0:i.ignoreBlocker)??!1),n({type:"BACK"})},navigateOpts:i,type:"BACK"})},forward:i=>{o({task:()=>{t.forward((i==null?void 0:i.ignoreBlocker)??!1),n({type:"FORWARD"})},navigateOpts:i,type:"FORWARD"})},canGoBack:()=>e.state[Ve]!==0,createHref:i=>t.createHref(i),block:i=>{var c;if(!t.setBlockers)return()=>{};const d=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...d,i]),()=>{var h,u;const a=((h=t.getBlockers)==null?void 0:h.call(t))??[];(u=t.setBlockers)==null||u.call(t,a.filter(p=>p!==i))}},flush:()=>{var i;return(i=t.flush)==null?void 0:i.call(t)},destroy:()=>{var i;return(i=t.destroy)==null?void 0:i.call(t)},notify:r}}function Cs(t,e){return e||(e={}),{...e,key:Qs(),[Ve]:t}}function gn(t){var e;const s=typeof document<"u"?window:void 0,r=s.history.pushState,n=s.history.replaceState;let o=[];const i=()=>o,c=f=>o=f,d=f=>f,h=()=>jt(`${s.location.pathname}${s.location.search}${s.location.hash}`,s.history.state);(e=s.history.state)!=null&&e.key||s.history.replaceState({[Ve]:0,key:Qs()},"");let u=h(),a,p=!1,y=!1,g=!1,v=!1;const S=()=>u;let b,C;const E=()=>{b&&(m._ignoreSubscribers=!0,(b.isPush?s.history.pushState:s.history.replaceState)(b.state,"",b.href),m._ignoreSubscribers=!1,b=void 0,C=void 0,a=void 0)},F=(f,R,w)=>{const M=d(R);C||(a=u),u=jt(R,w),b={href:M,state:w,isPush:(b==null?void 0:b.isPush)||f==="push"},C||(C=Promise.resolve().then(()=>E()))},_=f=>{u=h(),m.notify({type:f})},L=async()=>{if(y){y=!1;return}const f=h(),R=f.state[Ve]-u.state[Ve],w=R===1,M=R===-1,A=!w&&!M||p;p=!1;const U=A?"GO":M?"BACK":"FORWARD",D=A?{type:"GO",index:R}:{type:M?"BACK":"FORWARD"};if(g)g=!1;else{const B=i();if(typeof document<"u"&&B.length){for(const ee of B)if(await ee.blockerFn({currentLocation:u,nextLocation:f,action:U})){y=!0,s.history.go(1),m.notify(D);return}}}u=h(),m.notify(D)},I=f=>{if(v){v=!1;return}let R=!1;const w=i();if(typeof document<"u"&&w.length)for(const M of w){const A=M.enableBeforeUnload??!0;if(A===!0){R=!0;break}if(typeof A=="function"&&A()===!0){R=!0;break}}if(R)return f.preventDefault(),f.returnValue=""},m=Er({getLocation:S,getLength:()=>s.history.length,pushState:(f,R)=>F("push",f,R),replaceState:(f,R)=>F("replace",f,R),back:f=>(f&&(g=!0),v=!0,s.history.back()),forward:f=>{f&&(g=!0),v=!0,s.history.forward()},go:f=>{p=!0,s.history.go(f)},createHref:f=>d(f),flush:E,destroy:()=>{s.history.pushState=r,s.history.replaceState=n,s.removeEventListener(sr,I,{capture:!0}),s.removeEventListener(tr,L)},onBlocked:()=>{a&&u!==a&&(u=a)},getBlockers:i,setBlockers:c,notifyOnIndexChange:!1});return s.addEventListener(sr,I,{capture:!0}),s.addEventListener(tr,L),s.history.pushState=function(...f){const R=r.apply(s.history,f);return m._ignoreSubscribers||_("PUSH"),R},s.history.replaceState=function(...f){const R=n.apply(s.history,f);return m._ignoreSubscribers||_("REPLACE"),R},m}function Sn(t={initialEntries:["/"]}){const e=t.initialEntries;let s=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((o,i)=>Cs(i,void 0));return Er({getLocation:()=>jt(e[s],r[s]),getLength:()=>e.length,pushState:(o,i)=>{s<e.length-1&&(e.splice(s+1),r.splice(s+1)),r.push(i),e.push(o),s=Math.max(e.length-1,0)},replaceState:(o,i)=>{r[s]=i,e[s]=o},back:()=>{s=Math.max(s-1,0)},forward:()=>{s=Math.min(s+1,e.length-1)},go:o=>{s=Math.min(Math.max(s+o,0),e.length-1)},createHref:o=>o})}function jt(t,e){const s=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,s>0?r>0?Math.min(s,r):s:r>0?r:t.length),hash:s>-1?t.substring(s):"",search:r>-1?t.slice(r,s===-1?void 0:s):"",state:e||{[Ve]:0,key:Qs()}}}function Qs(){return(Math.random()+1).toString(36).substring(7)}function qs(t){const e=t.errorComponent??cs;return O.jsx(bn,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:s,reset:r})=>s?x.createElement(e,{error:s,reset:r}):t.children})}class bn extends x.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,s){s.error&&s.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,s){this.props.onCatch&&this.props.onCatch(e,s)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function cs({error:t}){const[e,s]=x.useState(!1);return O.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[O.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),O.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(r=>!r),children:e?"Hide Error":"Show Error"})]}),O.jsx("div",{style:{height:".25rem"}}),e?O.jsx("div",{children:O.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?O.jsx("code",{children:t.message}):null})}):null]})}var hs={exports:{}},ds={},fs={exports:{}},ps={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rr;function _n(){if(rr)return ps;rr=1;var t=Mr();function e(a,p){return a===p&&(a!==0||1/a===1/p)||a!==a&&p!==p}var s=typeof Object.is=="function"?Object.is:e,r=t.useState,n=t.useEffect,o=t.useLayoutEffect,i=t.useDebugValue;function c(a,p){var y=p(),g=r({inst:{value:y,getSnapshot:p}}),v=g[0].inst,S=g[1];return o(function(){v.value=y,v.getSnapshot=p,d(v)&&S({inst:v})},[a,y,p]),n(function(){return d(v)&&S({inst:v}),a(function(){d(v)&&S({inst:v})})},[a]),i(y),y}function d(a){var p=a.getSnapshot;a=a.value;try{var y=p();return!s(a,y)}catch{return!0}}function h(a,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return ps.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,ps}var nr;function wn(){return nr||(nr=1,fs.exports=_n()),fs.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir;function Pn(){if(ir)return ds;ir=1;var t=Mr(),e=wn();function s(h,u){return h===u&&(h!==0||1/h===1/u)||h!==h&&u!==u}var r=typeof Object.is=="function"?Object.is:s,n=e.useSyncExternalStore,o=t.useRef,i=t.useEffect,c=t.useMemo,d=t.useDebugValue;return ds.useSyncExternalStoreWithSelector=function(h,u,a,p,y){var g=o(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=c(function(){function b(L){if(!C){if(C=!0,E=L,L=p(L),y!==void 0&&v.hasValue){var I=v.value;if(y(I,L))return F=I}return F=L}if(I=F,r(E,L))return I;var m=p(L);return y!==void 0&&y(I,m)?(E=L,I):(E=L,F=m)}var C=!1,E,F,_=a===void 0?null:a;return[function(){return b(u())},_===null?void 0:function(){return b(_())}]},[u,a,p,y]);var S=n(h,g[0],g[1]);return i(function(){v.hasValue=!0,v.value=S},[S]),d(S),S},ds}var or;function Cn(){return or||(or=1,hs.exports=Pn()),hs.exports}var Rn=Cn();const ft=new WeakMap,Gt=new WeakMap,ts={current:[]};let ms=!1,At=0;const It=new Set,zt=new Map;function Fr(t){const e=Array.from(t).sort((s,r)=>s instanceof pt&&s.options.deps.includes(r)?1:r instanceof pt&&r.options.deps.includes(s)?-1:0);for(const s of e){if(ts.current.includes(s))continue;ts.current.push(s),s.recompute();const r=Gt.get(s);if(r)for(const n of r){const o=ft.get(n);o&&Fr(o)}}}function xn(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function Mn(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function Lr(t){if(At>0&&!zt.has(t)&&zt.set(t,t.prevState),It.add(t),!(At>0)&&!ms)try{for(ms=!0;It.size>0;){const e=Array.from(It);It.clear();for(const s of e){const r=zt.get(s)??s.prevState;s.prevState=r,xn(s)}for(const s of e){const r=ft.get(s);r&&(ts.current.push(s),Fr(r))}for(const s of e){const r=ft.get(s);if(r)for(const n of r)Mn(n)}}}finally{ms=!1,ts.current=[],zt.clear()}}function ys(t){At++;try{t()}finally{if(At--,At===0){const e=Array.from(It)[0];e&&Lr(e)}}}class Rs{constructor(e,s){this.listeners=new Set,this.subscribe=r=>{var n,o;this.listeners.add(r);const i=(o=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:o.call(n,r,this);return()=>{this.listeners.delete(r),i==null||i()}},this.setState=r=>{var n,o,i;this.prevState=this.state,this.state=(n=this.options)!=null&&n.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(i=(o=this.options)==null?void 0:o.onUpdate)==null||i.call(o),Lr(this)},this.prevState=e,this.state=e,this.options=s}}class pt{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const s=[],r=[];for(const n of this.options.deps)s.push(n.prevState),r.push(n.state);return this.lastSeenDepValues=r,{prevDepVals:s,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var s,r;this.prevState=this.state;const{prevDepVals:n,currDepVals:o,prevVal:i}=this.getDepVals();this.state=this.options.fn({prevDepVals:n,currDepVals:o,prevVal:i}),(r=(s=this.options).onUpdate)==null||r.call(s)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof pt&&o.checkIfRecalculationNeededDeeply();let s=!1;const r=this.lastSeenDepValues,{currDepVals:n}=this.getDepVals();for(let o=0;o<n.length;o++)if(n[o]!==r[o]){s=!0;break}s&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const s of this._subscriptions)s()}),this.subscribe=s=>{var r,n;this.listeners.add(s);const o=(n=(r=this.options).onSubscribe)==null?void 0:n.call(r,s,this);return()=>{this.listeners.delete(s),o==null||o()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const s of e)if(s instanceof pt)s.registerOnGraph(),this.registerOnGraph(s.options.deps);else if(s instanceof Rs){let r=ft.get(s);r||(r=new Set,ft.set(s,r)),r.add(this);let n=Gt.get(this);n||(n=new Set,Gt.set(this,n)),n.add(s)}}unregisterFromGraph(e=this.options.deps){for(const s of e)if(s instanceof pt)this.unregisterFromGraph(s.options.deps);else if(s instanceof Rs){const r=ft.get(s);r&&r.delete(this);const n=Gt.get(this);n&&n.delete(s)}}}function En(t,e=s=>s){return Rn.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,Fn)}function Fn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,n]of t)if(!e.has(r)||!Object.is(n,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!1;for(let r=0;r<s.length;r++)if(!Object.prototype.hasOwnProperty.call(e,s[r])||!Object.is(t[s[r]],e[s[r]]))return!1;return!0}const vs=x.createContext(null);function Or(){return typeof document>"u"?vs:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=vs,vs)}function Me(t){const e=x.useContext(Or());return t==null||t.warn,e}function ae(t){const e=Me({warn:(t==null?void 0:t.router)===void 0}),s=(t==null?void 0:t.router)||e,r=x.useRef(void 0);return En(s.__store,n=>{if(t!=null&&t.select){if(t.structuralSharing??s.options.defaultStructuralSharing){const o=pe(r.current,t.select(n));return r.current=o,o}return t.select(n)}return n})}const us=x.createContext(void 0),Ln=x.createContext(void 0);function it(t){const e=x.useContext(t.from?Ln:us);return ae({select:r=>{const n=r.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(_e(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n},structuralSharing:t.structuralSharing})}function On(t){return it({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function In(t){const{select:e,...s}=t;return it({...s,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function kn(t){return it({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function Dn(t){return it({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function ye(t){return!!(t!=null&&t.isNotFound)}function Tn(t){const e=ae({select:s=>`not-found-${s.location.pathname}-${s.status}`});return O.jsx(qs,{getResetKey:()=>e,onCatch:(s,r)=>{var n;if(ye(s))(n=t.onCatch)==null||n.call(t,s,r);else throw s},errorComponent:({error:s})=>{var r;if(ye(s))return(r=t.fallback)==null?void 0:r.call(t,s);throw s},children:t.children})}function An(){return O.jsx("p",{children:"Not Found"})}function jn(t){const{navigate:e}=Me();return x.useCallback(s=>e({...s}),[e])}class Ir{constructor(e){this.init=s=>{var r,n;this.originalIndex=s.originalIndex;const o=this.options,i=!(o!=null&&o.path)&&!(o!=null&&o.id);this.parentRoute=(n=(r=this.options).getParentRoute)==null?void 0:n.call(r),i?this._path=fe:_e(this.parentRoute);let c=i?fe:o.path;c&&c!=="/"&&(c=Ks(c));const d=(o==null?void 0:o.id)||c;let h=i?fe:Oe([this.parentRoute.id===fe?"":this.parentRoute.id,d]);c===fe&&(c="/"),h!==fe&&(h=Oe(["/",h]));const u=h===fe?"/":Oe([this.parentRoute.fullPath,c]);this._path=c,this._id=h,this._fullPath=u,this._to=u,this._ssr=(o==null?void 0:o.ssr)??s.defaultSsr??!0},this.updateLoader=s=>(Object.assign(this.options,s),this),this.update=s=>(Object.assign(this.options,s),this),this.lazy=s=>(this.lazyFn=s,this),this.useMatch=s=>it({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>it({...s,from:this.id,select:r=>s!=null&&s.select?s.select(r.context):r.context}),this.useSearch=s=>Dn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>kn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>In({...s,from:this.id}),this.useLoaderData=s=>On({...s,from:this.id}),this.useNavigate=()=>jn({from:this.id}),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),_e(!(e!=null&&e.id&&(e!=null&&e.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}}function Bn(t){return new Ir(t)}function Vi(){return t=>Nn(t)}class Un extends Ir{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function Nn(t){return new Un(t)}function Hi(t){return new Kn(t,{silent:!0}).createRoute}class Kn{constructor(e,s){this.path=e,this.createRoute=r=>{this.silent;const n=Bn(r);return n.isRoot=!1,n},this.silent=s==null?void 0:s.silent}}function We(t){return!!(t!=null&&t.isRedirect)}function gs(t){return!!(t!=null&&t.isRedirect)&&t.href}function Jt(t){return O.jsx(O.Fragment,{children:t.children})}function kr(t,e,s){return e.options.notFoundComponent?O.jsx(e.options.notFoundComponent,{data:s}):t.options.defaultNotFoundComponent?O.jsx(t.options.defaultNotFoundComponent,{data:s}):O.jsx(An,{})}var Ss,ar;function Qn(){if(ar)return Ss;ar=1;const t={},e=t.hasOwnProperty,s=(m,f)=>{for(const R in m)e.call(m,R)&&f(R,m[R])},r=(m,f)=>(f&&s(f,(R,w)=>{m[R]=w}),m),n=(m,f)=>{const R=m.length;let w=-1;for(;++w<R;)f(m[w])},o=m=>"\\u"+("0000"+m).slice(-4),i=(m,f)=>{let R=m.toString(16);return f?R:R.toUpperCase()},c=t.toString,d=Array.isArray,h=m=>typeof Buffer=="function"&&Buffer.isBuffer(m),u=m=>c.call(m)=="[object Object]",a=m=>typeof m=="string"||c.call(m)=="[object String]",p=m=>typeof m=="number"||c.call(m)=="[object Number]",y=m=>typeof m=="bigint",g=m=>typeof m=="function",v=m=>c.call(m)=="[object Map]",S=m=>c.call(m)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},C=/[\\\b\f\n\r\t]/,E=/[0-9]/,F=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,_=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,I=(m,f)=>{const R=()=>{ee=B,++f.indentLevel,B=f.indent.repeat(f.indentLevel)},w={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},M=f&&f.json;M&&(w.quotes="double",w.wrap=!0),f=r(w,f),f.quotes!="single"&&f.quotes!="double"&&f.quotes!="backtick"&&(f.quotes="single");const A=f.quotes=="double"?'"':f.quotes=="backtick"?"`":"'",U=f.compact,D=f.lowercaseHex;let B=f.indent.repeat(f.indentLevel),ee="";const ce=f.__inline1__,se=f.__inline2__,X=U?"":`
`;let V,Q=!0;const Y=f.numbers=="binary",H=f.numbers=="octal",$=f.numbers=="decimal",W=f.numbers=="hexadecimal";if(M&&m&&g(m.toJSON)&&(m=m.toJSON()),!a(m)){if(v(m))return m.size==0?"new Map()":(U||(f.__inline1__=!0,f.__inline2__=!1),"new Map("+I(Array.from(m),f)+")");if(S(m))return m.size==0?"new Set()":"new Set("+I(Array.from(m),f)+")";if(h(m))return m.length==0?"Buffer.from([])":"Buffer.from("+I(Array.from(m),f)+")";if(d(m))return V=[],f.wrap=!0,ce&&(f.__inline1__=!1,f.__inline2__=!0),se||R(),n(m,K=>{Q=!1,se&&(f.__inline2__=!1),V.push((U||se?"":B)+I(K,f))}),Q?"[]":se?"["+V.join(", ")+"]":"["+X+V.join(","+X)+X+(U?"":ee)+"]";if(p(m)||y(m)){if(M)return JSON.stringify(Number(m));let K;if($)K=String(m);else if(W){let ne=m.toString(16);D||(ne=ne.toUpperCase()),K="0x"+ne}else Y?K="0b"+m.toString(2):H&&(K="0o"+m.toString(8));return y(m)?K+"n":K}else return y(m)?M?JSON.stringify(Number(m)):m+"n":u(m)?(V=[],f.wrap=!0,R(),s(m,(K,ne)=>{Q=!1,V.push((U?"":B)+I(K,f)+":"+(U?"":" ")+I(ne,f))}),Q?"{}":"{"+X+V.join(","+X)+X+(U?"":ee)+"}"):M?JSON.stringify(m)||"null":String(m)}const ue=f.escapeEverything?_:L;return V=m.replace(ue,(K,ne,He,we,ct,ke)=>{if(ne){if(f.minimal)return ne;const le=ne.charCodeAt(0),te=ne.charCodeAt(1);if(f.es6){const $e=(le-55296)*1024+te-56320+65536;return"\\u{"+i($e,D)+"}"}return o(i(le,D))+o(i(te,D))}if(He)return o(i(He.charCodeAt(0),D));if(K=="\0"&&!M&&!E.test(ke.charAt(ct+1)))return"\\0";if(we)return we==A||f.escapeEverything?"\\"+we:we;if(C.test(K))return b[K];if(f.minimal&&!F.test(K))return K;const Z=i(K.charCodeAt(0),D);return M||Z.length>2?o(Z):"\\x"+("00"+Z).slice(-2)}),A=="`"&&(V=V.replace(/\$\{/g,"\\${")),f.isScriptContext&&(V=V.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,M?"\\u003C!--":"\\x3C!--")),f.wrap&&(V=A+V+A),V};return I.version="3.0.2",Ss=I,Ss}Qn();function qn({children:t,log:e}){return typeof document<"u"?null:O.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[t,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}const ss="tsr-scroll-restoration-v1_3",Vn=typeof window<"u"&&window.sessionStorage,Hn=(t,e)=>{let s;return(...r)=>{s||(s=setTimeout(()=>{t(...r),s=null},e))}},lt=Vn?{state:JSON.parse(window.sessionStorage.getItem(ss)||"null")||{},set:e=>(lt.state=Ge(e,lt.state)||lt.state,window.sessionStorage.setItem(ss,JSON.stringify(lt.state)))}:void 0,xs=t=>t.state.key||t.href;function $n(t){const e=[];let s;for(;s=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(s.children,t)+1})`),t=s;return`${e.join(" > ")}`.toLowerCase()}let rs=!1;function Dr(t,e,s,r,n){var o;let i;try{i=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const c=e||((o=window.history.state)==null?void 0:o.key),d=i[c];rs=!0,(()=>{if(r&&d){for(const u in d){const a=d[u];if(u==="window")window.scrollTo({top:a.scrollY,left:a.scrollX,behavior:s});else if(u){const p=document.querySelector(u);p&&(p.scrollLeft=a.scrollX,p.scrollTop=a.scrollY)}}return}const h=window.location.hash.split("#")[1];if(h){const u=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(u){const a=document.getElementById(h);a&&a.scrollIntoView(u)}return}["window",...(n==null?void 0:n.filter(u=>u!=="window"))??[]].forEach(u=>{const a=u==="window"?window:document.querySelector(u);a&&a.scrollTo({top:0,left:0,behavior:s})})})(),rs=!1}function zn(t,e){if((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup)return;t.isScrollRestorationSetup=!0,rs=!1;const r=t.options.getScrollRestorationKey||xs;window.history.scrollRestoration="manual";const n=o=>{if(rs||!t.isScrollRestoring)return;let i="";if(o.target===document||o.target===window)i="window";else{const d=o.target.getAttribute("data-scroll-restoration-id");d?i=`[data-scroll-restoration-id="${d}"]`:i=$n(o.target)}const c=r(t.state.location);lt.set(d=>{const h=d[c]=d[c]||{},u=h[i]=h[i]||{};if(i==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(i){const a=document.querySelector(i);a&&(u.scrollX=a.scrollLeft||0,u.scrollY=a.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",Hn(n,100),!0),t.subscribe("onRendered",o=>{const i=r(o.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}Dr(ss,i,t.options.scrollRestorationBehavior,t.isScrollRestoring,t.options.scrollToTopSelectors),t.isScrollRestoring&&lt.set(c=>(c[i]=c[i]||{},c))})}function Wn(){const t=Me(),s=(t.options.getScrollRestorationKey||xs)(t.latestLocation),r=s!==xs(t.latestLocation)?s:null;return!t.isScrollRestoring||!t.isServer?null:O.jsx(qn,{children:`(${Dr.toString()})(${JSON.stringify(ss)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const Tr=x.memo(function({matchId:e}){var s,r;const n=Me(),o=ae({select:b=>{var C;return(C=b.matches.find(E=>E.id===e))==null?void 0:C.routeId}});_e(o);const i=n.routesById[o],c=i.options.pendingComponent??n.options.defaultPendingComponent,d=c?O.jsx(c,{}):null,h=i.options.errorComponent??n.options.defaultErrorComponent,u=i.options.onCatch??n.options.defaultOnCatch,a=i.isRoot?i.options.notFoundComponent??((s=n.options.notFoundRoute)==null?void 0:s.options.component):i.options.notFoundComponent,p=(!i.isRoot||i.options.wrapInSuspense)&&(i.options.wrapInSuspense??c??((r=i.options.errorComponent)==null?void 0:r.preload))?x.Suspense:Jt,y=h?qs:Jt,g=a?Tn:Jt,v=ae({select:b=>b.loadedAt}),S=ae({select:b=>{var C;const E=b.matches.findIndex(F=>F.id===e);return(C=b.matches[E-1])==null?void 0:C.routeId}});return O.jsxs(O.Fragment,{children:[O.jsx(us.Provider,{value:e,children:O.jsx(p,{fallback:d,children:O.jsx(y,{getResetKey:()=>v,errorComponent:h||cs,onCatch:(b,C)=>{if(ye(b))throw b;u==null||u(b,C)},children:O.jsx(g,{fallback:b=>{if(!a||b.routeId&&b.routeId!==o||!b.routeId&&!i.isRoot)throw b;return x.createElement(a,b)},children:O.jsx(Jn,{matchId:e})})})})}),S===fe?O.jsxs(O.Fragment,{children:[O.jsx(Gn,{}),O.jsx(Wn,{})]}):null]})});function Gn(){var t;const e=Me(),s=x.useRef(void 0);return O.jsx("script",{suppressHydrationWarning:!0,ref:r=>{r?e.emit({type:"onRendered",...ht(e.state)}):s.current=e.state.resolvedLocation}},(t=e.state.resolvedLocation)==null?void 0:t.state.key)}const Jn=x.memo(function({matchId:e}){var s,r,n;const o=Me(),{match:i,key:c,routeId:d}=ae({select:p=>{const y=p.matches.findIndex(E=>E.id===e),g=p.matches[y],v=g.routeId,S=o.routesById[v].options.remountDeps??o.options.defaultRemountDeps,b=S==null?void 0:S({routeId:v,loaderDeps:g.loaderDeps,params:g._strictParams,search:g._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:v,match:Ps(g,["id","status","error"])}},structuralSharing:!0}),h=o.routesById[d],u=x.useMemo(()=>{const p=h.options.component??o.options.defaultComponent;return p?O.jsx(p,{},c):O.jsx(Ar,{})},[c,h.options.component,o.options.defaultComponent]),a=(h.options.errorComponent??o.options.defaultErrorComponent)||cs;if(i.status==="notFound")return _e(ye(i.error)),kr(o,h,i.error);if(i.status==="redirected")throw _e(We(i.error)),(s=o.getMatch(i.id))==null?void 0:s.loadPromise;if(i.status==="error"){if(o.isServer)return O.jsx(a,{error:i.error,reset:void 0,info:{componentStack:""}});throw i.error}if(i.status==="pending"){const p=h.options.pendingMinMs??o.options.defaultPendingMinMs;if(p&&!((r=o.getMatch(i.id))!=null&&r.minPendingPromise)&&!o.isServer){const y=ut();Promise.resolve().then(()=>{o.updateMatch(i.id,g=>({...g,minPendingPromise:y}))}),setTimeout(()=>{y.resolve(),o.updateMatch(i.id,g=>({...g,minPendingPromise:void 0}))},p)}throw(n=o.getMatch(i.id))==null?void 0:n.loadPromise}return u}),Ar=x.memo(function(){const e=Me(),s=x.useContext(us),r=ae({select:h=>{var u;return(u=h.matches.find(a=>a.id===s))==null?void 0:u.routeId}}),n=e.routesById[r],o=ae({select:h=>{const a=h.matches.find(p=>p.id===s);return _e(a),a.globalNotFound}}),i=ae({select:h=>{var u;const a=h.matches,p=a.findIndex(y=>y.id===s);return(u=a[p+1])==null?void 0:u.id}});if(o)return kr(e,n,void 0);if(!i)return null;const c=O.jsx(Tr,{matchId:i}),d=e.options.defaultPendingComponent?O.jsx(e.options.defaultPendingComponent,{}):null;return s===fe?O.jsx(x.Suspense,{fallback:d,children:c}):c});function Xn(t){return typeof(t==null?void 0:t.message)!="string"?!1:t.message.startsWith("Failed to fetch dynamically imported module")||t.message.startsWith("error loading dynamically imported module")||t.message.startsWith("Importing a module script failed")}function Yn({children:t,fallback:e=null}){return ei()?O.jsx(O.Fragment,{children:t}):O.jsx(O.Fragment,{children:e})}function Zn(){return()=>{}}function ei(){return x.useSyncExternalStore(Zn,()=>!0,()=>!1)}function $i(t,e,s){let r,n,o,i;const c=()=>typeof document>"u"&&(s==null?void 0:s())===!1?(n=()=>null,Promise.resolve()):(r||(r=t().then(h=>{r=void 0,n=h[e??"default"]}).catch(h=>{if(o=h,Xn(o)&&o instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const u=`tanstack_router_reload:${o.message}`;sessionStorage.getItem(u)||(sessionStorage.setItem(u,"1"),i=!0)}})),r),d=function(u){if(i)throw window.location.reload(),new Promise(()=>{});if(o)throw o;if(!n)throw c();return(s==null?void 0:s())===!1?O.jsx(Yn,{fallback:O.jsx(Ar,{}),children:x.createElement(n,u)}):x.createElement(n,u)};return d.preload=c,d}const kt=typeof window<"u"?x.useLayoutEffect:x.useEffect;function bs(t){const e=x.useRef({value:t,prev:null}),s=e.current.value;return t!==s&&(e.current={value:t,prev:s}),e.current.prev}function ti(t,e,s={},r={}){const n=x.useRef(typeof IntersectionObserver=="function"),o=x.useRef(null);return x.useEffect(()=>{if(!(!t.current||!n.current||r.disabled))return o.current=new IntersectionObserver(([i])=>{e(i)},s),o.current.observe(t.current),()=>{var i;(i=o.current)==null||i.disconnect()}},[e,s,r.disabled,t]),o.current}function si(t){const e=x.useRef(null);return x.useImperativeHandle(t,()=>e.current,[]),e}function ri(t,e){const s=Me(),[r,n]=x.useState(!1),o=x.useRef(!1),i=si(e),{activeProps:c=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:h,to:u,preload:a,preloadDelay:p,hashScrollIntoView:y,replace:g,startTransition:v,resetScroll:S,viewTransition:b,children:C,target:E,disabled:F,style:_,className:L,onClick:I,onFocus:m,onMouseEnter:f,onMouseLeave:R,onTouchStart:w,ignoreBlocker:M,...A}=t,{params:U,search:D,hash:B,state:ee,mask:ce,reloadDocument:se,...X}=A,V=x.useMemo(()=>{try{return new URL(`${u}`),"external"}catch{}return"internal"},[u]),Q=ae({select:q=>q.location.search,structuralSharing:!0});t={from:it({strict:!1,select:q=>q.pathname}),...t};const H=x.useMemo(()=>s.buildLocation(t),[s,t,Q]),$=x.useMemo(()=>t.reloadDocument?!1:a??s.options.defaultPreload,[s.options.defaultPreload,a,t.reloadDocument]),W=p??s.options.defaultPreloadDelay??0,ue=ae({select:q=>{if(h!=null&&h.exact){if(!cn(q.location.pathname,H.pathname,s.basepath))return!1}else{const G=Zt(q.location.pathname,s.basepath).split("/");if(!Zt(H.pathname,s.basepath).split("/").every((Zr,en)=>Zr===G[en]))return!1}return((h==null?void 0:h.includeSearch)??!0)&&!dt(q.location.search,H.search,{partial:!(h!=null&&h.exact),ignoreUndefined:!(h!=null&&h.explicitUndefined)})?!1:h!=null&&h.includeHash?q.location.hash===H.hash:!0}}),K=x.useCallback(()=>{s.preloadRoute(t).catch(q=>{console.warn(q),console.warn(rn)})},[t,s]),ne=x.useCallback(q=>{q!=null&&q.isIntersecting&&K()},[K]);if(ti(i,ne,{rootMargin:"100px"},{disabled:!!F||$!=="viewport"}),kt(()=>{o.current||!F&&$==="render"&&(K(),o.current=!0)},[F,K,$]),V==="external")return{...X,ref:i,type:V,href:u,...C&&{children:C},...E&&{target:E},...F&&{disabled:F},..._&&{style:_},...L&&{className:L},...I&&{onClick:I},...m&&{onFocus:m},...f&&{onMouseEnter:f},...R&&{onMouseLeave:R},...w&&{onTouchStart:w}};const He=q=>{if(!F&&!ni(q)&&!q.defaultPrevented&&(!E||E==="_self")&&q.button===0){q.preventDefault(),tn.flushSync(()=>{n(!0)});const G=s.subscribe("onResolved",()=>{G(),n(!1)});return s.navigate({...t,replace:g,resetScroll:S,hashScrollIntoView:y,startTransition:v,viewTransition:b,ignoreBlocker:M})}},we=q=>{F||$&&K()},ct=we,ke=q=>{if(F)return;const G=q.target||{};if($){if(G.preloadTimeout)return;G.preloadTimeout=setTimeout(()=>{G.preloadTimeout=null,K()},W)}},Z=q=>{if(F)return;const G=q.target||{};G.preloadTimeout&&(clearTimeout(G.preloadTimeout),G.preloadTimeout=null)},le=q=>G=>{var ze;(ze=G.persist)==null||ze.call(G),q.filter(Boolean).forEach(Gs=>{G.defaultPrevented||Gs(G)})},te=ue?Ge(c,{})??{}:{},$e=ue?{}:Ge(d,{}),Ot=[L,te.className,$e.className].filter(Boolean).join(" "),qt={..._,...te.style,...$e.style};return{...X,...te,...$e,href:F?void 0:H.maskedLocation?s.history.createHref(H.maskedLocation.href):s.history.createHref(H.href),ref:i,onClick:le([I,He]),onFocus:le([m,we]),onMouseEnter:le([f,ke]),onMouseLeave:le([R,Z]),onTouchStart:le([w,ct]),disabled:!!F,target:E,...Object.keys(qt).length&&{style:qt},...Ot&&{className:Ot},...F&&{role:"link","aria-disabled":!0},...ue&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const zi=x.forwardRef((t,e)=>{const{_asChild:s,...r}=t,{type:n,ref:o,...i}=ri(r,e),c=typeof r.children=="function"?r.children({isActive:i["data-status"]==="active"}):r.children;return typeof s>"u"&&delete i.disabled,x.createElement(s||"a",{...i,ref:o},c)});function ni(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ii(){const t=Me(),e=x.useRef({router:t,mounted:!1}),s=ae({select:({isLoading:a})=>a}),[r,n]=x.useState(!1),o=ae({select:a=>a.matches.some(p=>p.status==="pending"),structuralSharing:!0}),i=bs(s),c=s||r||o,d=bs(c),h=s||o,u=bs(h);return t.isServer||(t.startReactTransition=a=>{n(!0),x.startTransition(()=>{a(),n(!1)})}),x.useEffect(()=>{const a=t.history.subscribe(t.load),p=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Je(t.latestLocation.href)!==Je(p.href)&&t.commitLocation({...p,replace:!0}),()=>{a()}},[t,t.history]),kt(()=>{if(typeof window<"u"&&t.clientSsr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(p){console.error(p)}})()},[t]),kt(()=>{i&&!s&&t.emit({type:"onLoad",...ht(t.state)})},[i,t,s]),kt(()=>{u&&!h&&t.emit({type:"onBeforeRouteMount",...ht(t.state)})},[h,u,t]),kt(()=>{d&&!c&&(t.emit({type:"onResolved",...ht(t.state)}),t.__store.setState(a=>({...a,status:"idle",resolvedLocation:a.location})))},[c,d,t]),null}function oi(){const t=Me(),e=t.options.defaultPendingComponent?O.jsx(t.options.defaultPendingComponent,{}):null,s=t.isServer||typeof document<"u"&&t.clientSsr?Jt:x.Suspense,r=O.jsxs(s,{fallback:e,children:[O.jsx(ii,{}),O.jsx(ai,{})]});return t.options.InnerWrap?O.jsx(t.options.InnerWrap,{children:r}):r}function ai(){const t=ae({select:s=>{var r;return(r=s.matches[0])==null?void 0:r.id}}),e=ae({select:s=>s.loadedAt});return O.jsx(us.Provider,{value:t,children:O.jsx(qs,{getResetKey:()=>e,errorComponent:cs,onCatch:s=>{s.message||s.toString()},children:t?O.jsx(Tr,{matchId:t}):null})})}const jr=["component","errorComponent","pendingComponent","notFoundComponent"];function ci(t){var e;for(const s of jr)if((e=t.options[s])!=null&&e.preload)return!0;return!1}function _s(t,e){if(t==null)return{};if("~standard"in t){const s=t["~standard"].validate(e);if(s instanceof Promise)throw new ns("Async validation not supported");if(s.issues)throw new ns(JSON.stringify(s.issues,void 0,2),{cause:s});return s.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function Wi(t){return new ui(t)}class ui{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startReactTransition=s=>s(),this.update=s=>{var r;s.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options;this.options={...this.options,...s},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||s.basepath&&s.basepath!==n.basepath)&&(s.basepath===void 0||s.basepath===""||s.basepath==="/"?this.basepath="/":this.basepath=`/${an(s.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Sn({initialEntries:[this.basepath||"/"]}):gn()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Rs(hi(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}}),zn(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[s.id]=s);const r=i=>{i.forEach((c,d)=>{c.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const h=this.routesById[c.id];if(_e(!h,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const a=Je(c.fullPath);(!this.routesByPath[a]||c.fullPath.endsWith("/"))&&(this.routesByPath[a]=c)}const u=c.children;u!=null&&u.length&&r(u)})};r([this.routeTree]);const n=[];Object.values(this.routesById).forEach((i,c)=>{var d;if(i.isRoot||!i.path)return;const h=Ks(i.fullPath),u=Ft(h);for(;u.length>1&&((d=u[0])==null?void 0:d.value)==="/";)u.shift();const a=u.map(p=>p.value==="/"?.75:p.type==="param"?.5:p.type==="wildcard"?.25:1);n.push({child:i,trimmed:h,parsed:u,index:c,scores:a})}),this.flatRoutes=n.sort((i,c)=>{const d=Math.min(i.scores.length,c.scores.length);for(let h=0;h<d;h++)if(i.scores[h]!==c.scores[h])return c.scores[h]-i.scores[h];if(i.scores.length!==c.scores.length)return c.scores.length-i.scores.length;for(let h=0;h<d;h++)if(i.parsed[h].value!==c.parsed[h].value)return i.parsed[h].value>c.parsed[h].value?1:-1;return i.index-c.index}).map((i,c)=>(i.child.rank=c,i.child))},this.subscribe=(s,r)=>{const n={eventType:s,fn:r};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=s=>{this.subscribers.forEach(r=>{r.eventType===s.type&&r.fn(s)})},this.parseLocation=(s,r)=>{const n=({pathname:d,search:h,hash:u,state:a})=>{const p=this.options.parseSearch(h),y=this.options.stringifySearch(p);return{pathname:d,searchStr:y,search:pe(s==null?void 0:s.search,p),hash:u.split("#").reverse()[0]??"",href:`${d}${y}${u}`,state:pe(s==null?void 0:s.state,a)}},o=n(r??this.history.location),{__tempLocation:i,__tempKey:c}=o.state;if(i&&(!c||c===this.tempLocationKey)){const d=n(i);return d.state.key=o.state.key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(s,r)=>un({basepath:this.basepath,base:s,to:as(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(s,r)=>{let n={};const o=Je(s.pathname),i=u=>$t(this.basepath,o,{to:u.fullPath,caseSensitive:u.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;c?n=i(c):c=this.flatRoutes.find(u=>{const a=i(u);return a?(n=a,!0):!1});let d=c||this.routesById[fe];const h=[d];for(;d.parentRoute;)d=d.parentRoute,h.unshift(d);return{matchedRoutes:h,routeParams:n,foundRoute:c}},this.cancelMatch=s=>{const r=this.getMatch(s);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var s;(s=this.state.pendingMatches)==null||s.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=s=>{const r=(o={},i)=>{var c,d,h,u,a,p;const y=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,g=o.from!=null?y.find(w=>$t(this.basepath,Je(w.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,v=(g==null?void 0:g.pathname)||this.latestLocation.pathname;_e(o.from==null||g!=null,"Could not find match for from: "+o.from);const S=(c=this.state.pendingMatches)!=null&&c.length?(d=Tt(this.state.pendingMatches))==null?void 0:d.search:((h=Tt(y))==null?void 0:h.search)||this.latestLocation.search,b=i==null?void 0:i.matchedRoutes.filter(w=>y.find(M=>M.routeId===w.id));let C;if(o.to){const w=(g==null?void 0:g.fullPath)||this.latestLocation.pathname;C=this.resolvePathWithBase(w,`${o.to}`)}else{const w=this.routesById[(u=b==null?void 0:b.find(M=>{const A=Ht({path:M.fullPath,params:(i==null?void 0:i.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Oe([this.basepath,A])===v}))==null?void 0:u.id];C=this.resolvePathWithBase(v,(w==null?void 0:w.to)??v)}const E={...(a=Tt(y))==null?void 0:a.params};let F=(o.params??!0)===!0?E:{...E,...Ge(o.params,E)};Object.keys(F).length>0&&(i==null||i.matchedRoutes.map(w=>{var M;return((M=w.options.params)==null?void 0:M.stringify)??w.options.stringifyParams}).filter(Boolean).forEach(w=>{F={...F,...w(F)}})),C=Ht({path:C,params:F??{},leaveWildcards:!1,leaveParams:s.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let _=S;if(s._includeValidateSearch&&((p=this.options.search)!=null&&p.strict)){let w={};i==null||i.matchedRoutes.forEach(M=>{try{M.options.validateSearch&&(w={...w,..._s(M.options.validateSearch,{...w,..._})??{}})}catch{}}),_=w}_=(w=>{const M=(i==null?void 0:i.matchedRoutes.reduce((D,B)=>{var ee;const ce=[];if("search"in B.options)(ee=B.options.search)!=null&&ee.middlewares&&ce.push(...B.options.search.middlewares);else if(B.options.preSearchFilters||B.options.postSearchFilters){const se=({search:X,next:V})=>{let Q=X;"preSearchFilters"in B.options&&B.options.preSearchFilters&&(Q=B.options.preSearchFilters.reduce((H,$)=>$(H),X));const Y=V(Q);return"postSearchFilters"in B.options&&B.options.postSearchFilters?B.options.postSearchFilters.reduce((H,$)=>$(H),Y):Y};ce.push(se)}if(s._includeValidateSearch&&B.options.validateSearch){const se=({search:X,next:V})=>{try{const Q=V(X);return{...Q,..._s(B.options.validateSearch,Q)??{}}}catch{}};ce.push(se)}return D.concat(ce)},[]))??[],A=({search:D})=>o.search?o.search===!0?D:Ge(o.search,D):{};M.push(A);const U=(D,B)=>{if(D>=M.length)return B;const ee=M[D];return ee({search:B,next:se=>U(D+1,se)})};return U(0,w)})(_),_=pe(S,_);const I=this.options.stringifySearch(_),m=o.hash===!0?this.latestLocation.hash:o.hash?Ge(o.hash,this.latestLocation.hash):void 0,f=m?`#${m}`:"";let R=o.state===!0?this.latestLocation.state:o.state?Ge(o.state,this.latestLocation.state):{};return R=pe(this.latestLocation.state,R),{pathname:C,search:_,searchStr:I,state:R,hash:m??"",href:`${C}${I}${f}`,unmaskOnReload:o.unmaskOnReload}},n=(o={},i)=>{var c;const d=r(o);let h=i?r(i):void 0;if(!h){let p={};const y=(c=this.options.routeMasks)==null?void 0:c.find(g=>{const v=$t(this.basepath,d.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1});return v?(p=v,!0):!1});if(y){const{from:g,...v}=y;i={...Ps(s,["from"]),...v,params:p},h=r(i)}}const u=this.getMatchedRoutes(d,o),a=r(o,u);if(h){const p=this.getMatchedRoutes(h,i),y=r(i,p);a.maskedLocation=y}return a};return s.mask?n(s,{...Ps(s,["from"]),...s.mask}):n(s)},this.commitLocation=({viewTransition:s,ignoreBlocker:r,...n})=>{const o=()=>{const d=["key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(u=>{n.state[u]=this.latestLocation.state[u]});const h=dt(n.state,this.latestLocation.state);return d.forEach(u=>{delete n.state[u]}),h},i=this.latestLocation.href===n.href,c=this.commitLocationPromise;if(this.commitLocationPromise=ut(()=>{c==null||c.resolve()}),i&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...u}=n;d&&(u={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=s,this.history[n.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:r})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:s,resetScroll:r,hashScrollIntoView:n,viewTransition:o,ignoreBlocker:i,href:c,...d}={})=>{if(c){const u=this.history.location.state.__TSR_index,a=jt(c,{__TSR_index:s?u:u+1});d.to=a.pathname,d.search=this.options.parseSearch(a.search),d.hash=a.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:o,replace:s,resetScroll:r,hashScrollIntoView:n,ignoreBlocker:i})},this.navigate=({to:s,reloadDocument:r,href:n,...o})=>{if(r){if(!n){const i=this.buildLocation({to:s,...o});n=this.history.createHref(i.href)}o.replace?window.location.replace(n):window.location.href=n;return}return this.buildAndCommitLocation({...o,href:n,to:s})},this.load=async s=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,o;for(o=new Promise(i=>{this.startReactTransition(async()=>{var c;try{const d=this.latestLocation,h=this.state.resolvedLocation;this.cancelMatches();let u;ys(()=>{u=this.matchRoutes(d),this.__store.setState(a=>({...a,status:"pending",isLoading:!0,location:d,pendingMatches:u,cachedMatches:a.cachedMatches.filter(p=>!u.find(y=>y.id===p.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...ht({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...ht({resolvedLocation:h,location:d})}),await this.loadMatches({sync:s==null?void 0:s.sync,matches:u,location:d,onReady:async()=>{this.startViewTransition(async()=>{let a,p,y;ys(()=>{this.__store.setState(g=>{const v=g.matches,S=g.pendingMatches||g.matches;return a=v.filter(b=>!S.find(C=>C.id===b.id)),p=S.filter(b=>!v.find(C=>C.id===b.id)),y=v.filter(b=>S.find(C=>C.id===b.id)),{...g,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...g.cachedMatches,...a.filter(b=>b.status!=="error")]}}),this.clearExpiredCache()}),[[a,"onLeave"],[p,"onEnter"],[y,"onStay"]].forEach(([g,v])=>{g.forEach(S=>{var b,C;(C=(b=this.looseRoutesById[S.routeId].options)[v])==null||C.call(b,S)})})})}})}catch(d){gs(d)?(r=d,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):ye(d)&&(n=d),this.__store.setState(h=>({...h,statusCode:r?r.statusCode:n?404:h.matches.some(u=>u.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((c=this.commitLocationPromise)==null||c.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(i=>({...i,statusCode:404}))},this.startViewTransition=s=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;typeof r=="object"&&this.isViewTransitionTypesSupported?n={update:s,types:r.types}:n=s,document.startViewTransition(n)}else s()},this.updateMatch=(s,r)=>{var n;let o;const i=(n=this.state.pendingMatches)==null?void 0:n.find(u=>u.id===s),c=this.state.matches.find(u=>u.id===s),d=this.state.cachedMatches.find(u=>u.id===s),h=i?"pendingMatches":c?"matches":d?"cachedMatches":"";return h&&this.__store.setState(u=>{var a;return{...u,[h]:(a=u[h])==null?void 0:a.map(p=>p.id===s?o=r(p):p)}}),o},this.getMatch=s=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===s),this.loadMatches=async({location:s,matches:r,preload:n,onReady:o,updateMatch:i=this.updateMatch,sync:c})=>{let d,h=!1;const u=async()=>{h||(h=!0,await(o==null?void 0:o()))},a=y=>!!(n&&!this.state.matches.find(g=>g.id===y));!this.isServer&&!this.state.matches.length&&u();const p=(y,g)=>{var v,S,b,C;if(gs(g)&&!g.reloadDocument)throw g;if(We(g)||ye(g)){if(i(y.id,E=>({...E,status:We(g)?"redirected":ye(g)?"notFound":"error",isFetching:!1,error:g,beforeLoadPromise:void 0,loaderPromise:void 0})),g.routeId||(g.routeId=y.routeId),(v=y.beforeLoadPromise)==null||v.resolve(),(S=y.loaderPromise)==null||S.resolve(),(b=y.loadPromise)==null||b.resolve(),We(g))throw h=!0,g=this.resolveRedirect({...g,_fromLocation:s}),g;if(ye(g))throw this._handleNotFound(r,g,{updateMatch:i}),(C=this.serverSsr)==null||C.onMatchSettled({router:this,match:this.getMatch(y.id)}),g}};try{await new Promise((y,g)=>{(async()=>{var v,S,b;try{const C=(_,L,I)=>{var m,f;const{id:R,routeId:w}=r[_],M=this.looseRoutesById[w];if(L instanceof Promise)throw L;L.routerCode=I,d=d??_,p(this.getMatch(R),L);try{(f=(m=M.options).onError)==null||f.call(m,L)}catch(A){L=A,p(this.getMatch(R),L)}i(R,A=>{var U,D;return(U=A.beforeLoadPromise)==null||U.resolve(),(D=A.loadPromise)==null||D.resolve(),{...A,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[_,{id:L,routeId:I}]of r.entries()){const m=this.getMatch(L),f=(v=r[_-1])==null?void 0:v.id,R=this.looseRoutesById[I],w=R.options.pendingMs??this.options.defaultPendingMs,M=!!(o&&!this.isServer&&!a(L)&&(R.options.loader||R.options.beforeLoad)&&typeof w=="number"&&w!==1/0&&(R.options.pendingComponent??this.options.defaultPendingComponent));let A=!0;if((m.beforeLoadPromise||m.loaderPromise)&&(M&&setTimeout(()=>{try{u()}catch{}},w),await m.beforeLoadPromise,A=this.getMatch(L).status!=="success"),A){try{i(L,W=>({...W,loadPromise:ut(()=>{var ue;(ue=W.loadPromise)==null||ue.resolve()}),beforeLoadPromise:ut()}));const U=new AbortController;let D;M&&(D=setTimeout(()=>{try{u()}catch{}},w));const{paramsError:B,searchError:ee}=this.getMatch(L);B&&C(_,B,"PARSE_PARAMS"),ee&&C(_,ee,"VALIDATE_SEARCH");const ce=()=>f?this.getMatch(f).context:this.options.context??{};i(L,W=>({...W,isFetching:"beforeLoad",fetchCount:W.fetchCount+1,abortController:U,pendingTimeout:D,context:{...ce(),...W.__routeContext}}));const{search:se,params:X,context:V,cause:Q}=this.getMatch(L),Y=a(L),H={search:se,abortController:U,params:X,preload:Y,context:V,location:s,navigate:W=>this.navigate({...W,_fromLocation:s}),buildLocation:this.buildLocation,cause:Y?"preload":Q,matches:r},$=await((b=(S=R.options).beforeLoad)==null?void 0:b.call(S,H))??{};(We($)||ye($))&&C(_,$,"BEFORE_LOAD"),i(L,W=>({...W,__beforeLoadContext:$,context:{...ce(),...W.__routeContext,...$},abortController:U}))}catch(U){C(_,U,"BEFORE_LOAD")}i(L,U=>{var D;return(D=U.beforeLoadPromise)==null||D.resolve(),{...U,beforeLoadPromise:void 0,isFetching:!1}})}}const E=r.slice(0,d),F=[];E.forEach(({id:_,routeId:L},I)=>{F.push((async()=>{const{loaderPromise:m}=this.getMatch(_);let f=!1,R=!1;if(m){await m;const w=this.getMatch(_);w.error&&p(w,w.error)}else{const w=F[I-1],M=this.looseRoutesById[L],A=()=>{const{params:Q,loaderDeps:Y,abortController:H,context:$,cause:W}=this.getMatch(_),ue=a(_);return{params:Q,deps:Y,preload:!!ue,parentMatchPromise:w,abortController:H,context:$,location:s,navigate:K=>this.navigate({...K,_fromLocation:s}),cause:ue?"preload":W,route:M}},U=Date.now()-this.getMatch(_).updatedAt,D=a(_),B=D?M.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:M.options.staleTime??this.options.defaultStaleTime??0,ee=M.options.shouldReload,ce=typeof ee=="function"?ee(A()):ee;i(_,Q=>({...Q,loaderPromise:ut(),preload:!!D&&!this.state.matches.find(Y=>Y.id===_)}));const se=async()=>{var Q,Y,H,$,W,ue,K,ne,He,we,ct;try{const ke=async()=>{const Z=this.getMatch(_);Z.minPendingPromise&&await Z.minPendingPromise};try{this.loadRouteChunk(M),i(_,ze=>({...ze,isFetching:"loader"}));const Z=await((Y=(Q=M.options).loader)==null?void 0:Y.call(Q,A()));p(this.getMatch(_),Z),await M._lazyPromise,await ke();const le={matches:r,match:this.getMatch(_),params:this.getMatch(_).params,loaderData:Z},te=($=(H=M.options).head)==null?void 0:$.call(H,le),$e=te==null?void 0:te.meta,Ot=te==null?void 0:te.links,qt=te==null?void 0:te.scripts,q=(ue=(W=M.options).scripts)==null?void 0:ue.call(W,le),G=(ne=(K=M.options).headers)==null?void 0:ne.call(K,{loaderData:Z});i(_,ze=>({...ze,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Z,meta:$e,links:Ot,headScripts:qt,headers:G,scripts:q}))}catch(Z){let le=Z;await ke(),p(this.getMatch(_),Z);try{(we=(He=M.options).onError)==null||we.call(He,Z)}catch(te){le=te,p(this.getMatch(_),te)}i(_,te=>({...te,error:le,status:"error",isFetching:!1}))}(ct=this.serverSsr)==null||ct.onMatchSettled({router:this,match:this.getMatch(_)}),await M._componentsPromise}catch(ke){i(_,Z=>({...Z,loaderPromise:void 0})),p(this.getMatch(_),ke)}},{status:X,invalid:V}=this.getMatch(_);f=X==="success"&&(V||(ce??U>B)),D&&M.options.preload===!1||(f&&!c?(R=!0,(async()=>{try{await se();const{loaderPromise:Q,loadPromise:Y}=this.getMatch(_);Q==null||Q.resolve(),Y==null||Y.resolve(),i(_,H=>({...H,loaderPromise:void 0}))}catch(Q){gs(Q)&&await this.navigate(Q)}})()):(X!=="success"||f&&c)&&await se())}if(!R){const{loaderPromise:w,loadPromise:M}=this.getMatch(_);w==null||w.resolve(),M==null||M.resolve()}return i(_,w=>({...w,isFetching:R?w.isFetching:!1,loaderPromise:R?w.loaderPromise:void 0,invalid:!1})),this.getMatch(_)})())}),await Promise.all(F),y()}catch(C){g(C)}})()}),await u()}catch(y){if(We(y)||ye(y))throw ye(y)&&!n&&await u(),y}return r},this.invalidate=s=>{const r=n=>{var o;return((o=s==null?void 0:s.filter)==null?void 0:o.call(s,n))??!0?{...n,invalid:!0,...n.status==="error"?{status:"pending",error:void 0}:{}}:n};return this.__store.setState(n=>{var o;return{...n,matches:n.matches.map(r),cachedMatches:n.cachedMatches.map(r),pendingMatches:(o=n.pendingMatches)==null?void 0:o.map(r)}}),this.load({sync:s==null?void 0:s.sync})},this.resolveRedirect=s=>{const r=s;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=s=>{const r=s==null?void 0:s.filter;r!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(o=>!r(o))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const s=r=>{const n=this.looseRoutesById[r.routeId];if(!n.options.loader)return!0;const o=(r.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<o)};this.clearCache({filter:s})},this.loadRouteChunk=s=>(s._lazyPromise===void 0&&(s.lazyFn?s._lazyPromise=s.lazyFn().then(r=>{const{id:n,...o}=r.options;Object.assign(s.options,o)}):s._lazyPromise=Promise.resolve()),s._componentsPromise===void 0&&(s._componentsPromise=s._lazyPromise.then(()=>Promise.all(jr.map(async r=>{const n=s.options[r];n!=null&&n.preload&&await n.preload()})))),s._componentsPromise),this.preloadRoute=async s=>{const r=this.buildLocation(s);let n=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:s});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),i=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);ys(()=>{n.forEach(c=>{i.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return n=await this.loadMatches({matches:n,location:r,preload:!0,updateMatch:(c,d)=>{o.has(c)?n=n.map(h=>h.id===c?d(h):h):this.updateMatch(c,d)}}),n}catch(c){if(We(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:r});ye(c)||console.error(c);return}},this.matchRoute=(s,r)=>{const n={...s,to:s.to?this.resolvePathWithBase(s.from||"",s.to):void 0,params:s.params||{},leaveParams:!0},o=this.buildLocation(n);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const c=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=$t(this.basepath,c.pathname,{...r,to:o.pathname});return!d||s.params&&!dt(d,s.params,{partial:!0})?!1:d&&((r==null?void 0:r.includeSearch)??!0)?dt(c.search,o.search,{partial:!0})?d:!1:d},this._handleNotFound=(s,r,{updateMatch:n=this.updateMatch}={})=>{const o=Object.fromEntries(s.map(d=>[d.routeId,d]));let i=(r.global?this.looseRoutesById[fe]:this.looseRoutesById[r.routeId])||this.looseRoutesById[fe];for(;!i.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&i.id!==fe;)i=i.parentRoute,_e(i);const c=o[i.id];_e(c,"Could not find match for route: "+i.id),n(c.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&i.parentRoute&&(r.routeId=i.parentRoute.id,this._handleNotFound(s,r,{updateMatch:n}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(s=>s.status==="notFound"||s.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??mn,parseSearch:e.parseSearch??pn}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,s,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:s},r):this.matchRoutesInternal(e,s)}matchRoutesInternal(e,s){const{foundRoute:r,matchedRoutes:n,routeParams:o}=this.getMatchedRoutes(e,s==null?void 0:s.dest);let i=!1;(r?r.path!=="/"&&o["**"]:Je(e.pathname))&&(this.options.notFoundRoute?n.push(this.options.notFoundRoute):i=!0);const c=(()=>{if(i){if(this.options.notFoundMode!=="root")for(let a=n.length-1;a>=0;a--){const p=n[a];if(p.children)return p.id}return fe}})(),d=n.map(a=>{var p;let y;const g=((p=a.options.params)==null?void 0:p.parse)??a.options.parseParams;if(g)try{const v=g(o);Object.assign(o,v)}catch(v){if(y=new li(v.message,{cause:v}),s!=null&&s.throwOnError)throw y;return y}}),h=[],u=a=>(a==null?void 0:a.id)?a.context??this.options.context??{}:this.options.context??{};return n.forEach((a,p)=>{var y,g;const v=h[p-1],[S,b,C]=(()=>{const A=(v==null?void 0:v.search)??e.search,U=(v==null?void 0:v._strictSearch)??{};try{const D=_s(a.options.validateSearch,{...A})??{};return[{...A,...D},{...U,...D},void 0]}catch(D){let B=D;if(D instanceof ns||(B=new ns(D.message,{cause:D})),s!=null&&s.throwOnError)throw B;return[A,{},B]}})(),E=((g=(y=a.options).loaderDeps)==null?void 0:g.call(y,{search:S}))??"",F=E?JSON.stringify(E):"",{usedParams:_,interpolatedPath:L}=Ht({path:a.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),I=Ht({path:a.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+F,m=this.getMatch(I),f=this.state.matches.find(A=>A.routeId===a.id),R=f?"stay":"enter";let w;if(m)w={...m,cause:R,params:f?pe(f.params,o):o,_strictParams:_,search:pe(f?f.search:m.search,S),_strictSearch:b};else{const A=a.options.loader||a.options.beforeLoad||a.lazyFn||ci(a)?"pending":"success";w={id:I,index:p,routeId:a.id,params:f?pe(f.params,o):o,_strictParams:_,pathname:Oe([this.basepath,L]),updatedAt:Date.now(),search:f?pe(f.search,S):S,_strictSearch:b,searchError:void 0,status:A,isFetching:!1,error:void 0,paramsError:d[p],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:R,loaderDeps:f?pe(f.loaderDeps,E):E,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:a.options.staticData||{},loadPromise:ut(),fullPath:a.fullPath}}s!=null&&s.preload||(w.globalNotFound=c===a.id),w.searchError=C;const M=u(v);w.context={...M,...w.__routeContext,...w.__beforeLoadContext},h.push(w)}),h.forEach((a,p)=>{var y,g,v,S,b,C,E,F;const _=this.looseRoutesById[a.routeId];if(!this.getMatch(a.id)&&(s==null?void 0:s._buildLocation)!==!0){const I=h[p-1],m=u(I),f={deps:a.loaderDeps,params:a.params,context:m,location:e,navigate:R=>this.navigate({...R,_fromLocation:e}),buildLocation:this.buildLocation,cause:a.cause,abortController:a.abortController,preload:!!a.preload,matches:h};a.__routeContext=((g=(y=_.options).context)==null?void 0:g.call(y,f))??{},a.context={...m,...a.__routeContext,...a.__beforeLoadContext}}if(a.status==="success"){a.headers=(S=(v=_.options).headers)==null?void 0:S.call(v,{loaderData:a.loaderData});const I={matches:h,match:a,params:a.params,loaderData:a.loaderData},m=(C=(b=_.options).head)==null?void 0:C.call(b,I);a.links=m==null?void 0:m.links,a.headScripts=m==null?void 0:m.scripts,a.meta=m==null?void 0:m.meta,a.scripts=(F=(E=_.options).scripts)==null?void 0:F.call(E,I)}}),h}}class ns extends Error{}class li extends Error{}function hi(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function di({router:t,children:e,...s}){t.update({...t.options,...s,context:{...t.options.context,...s.context}});const r=Or(),n=O.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?O.jsx(t.options.Wrap,{children:n}):n}function Gi({router:t,...e}){return O.jsx(di,{router:t,...e,children:O.jsx(oi,{})})}var Lt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ot=typeof window>"u"||"Deno"in globalThis;function ve(){}function fi(t,e){return typeof t=="function"?t(e):t}function Ms(t){return typeof t=="number"&&t>=0&&t!==1/0}function Br(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mt(t,e){return typeof t=="function"?t(e):t}function be(t,e){return typeof t=="function"?t(e):t}function cr(t,e){const{type:s="all",exact:r,fetchStatus:n,predicate:o,queryKey:i,stale:c}=t;if(i){if(r){if(e.queryHash!==Vs(i,e.options))return!1}else if(!Bt(e.queryKey,i))return!1}if(s!=="all"){const d=e.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||n&&n!==e.state.fetchStatus||o&&!o(e))}function ur(t,e){const{exact:s,status:r,predicate:n,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(s){if(at(e.options.mutationKey)!==at(o))return!1}else if(!Bt(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function Vs(t,e){return((e==null?void 0:e.queryKeyHashFn)||at)(t)}function at(t){return JSON.stringify(t,(e,s)=>Es(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Bt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Bt(t[s],e[s])):!1}function Ur(t,e){if(t===e)return t;const s=lr(t)&&lr(e);if(s||Es(t)&&Es(e)){const r=s?t:Object.keys(t),n=r.length,o=s?e:Object.keys(e),i=o.length,c=s?[]:{};let d=0;for(let h=0;h<i;h++){const u=s?h:o[h];(!s&&r.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(c[u]=void 0,d++):(c[u]=Ur(t[u],e[u]),c[u]===t[u]&&t[u]!==void 0&&d++)}return n===i&&d===n?t:c}return e}function is(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function lr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Es(t){if(!hr(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!hr(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hr(t){return Object.prototype.toString.call(t)==="[object Object]"}function pi(t){return new Promise(e=>{setTimeout(e,t)})}function Fs(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Ur(t,e):e}function mi(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function yi(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Hs=Symbol();function Nr(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Hs?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xe,Te,yt,vr,vi=(vr=class extends Lt{constructor(){super();k(this,Xe);k(this,Te);k(this,yt);P(this,yt,e=>{if(!ot&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){l(this,Te)||this.setEventListener(l(this,yt))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Te))==null||e.call(this),P(this,Te,void 0))}setEventListener(e){var s;P(this,yt,e),(s=l(this,Te))==null||s.call(this),P(this,Te,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){l(this,Xe)!==e&&(P(this,Xe,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof l(this,Xe)=="boolean"?l(this,Xe):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xe=new WeakMap,Te=new WeakMap,yt=new WeakMap,vr),$s=new vi,vt,Ae,gt,gr,gi=(gr=class extends Lt{constructor(){super();k(this,vt,!0);k(this,Ae);k(this,gt);P(this,gt,e=>{if(!ot&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){l(this,Ae)||this.setEventListener(l(this,gt))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Ae))==null||e.call(this),P(this,Ae,void 0))}setEventListener(e){var s;P(this,gt,e),(s=l(this,Ae))==null||s.call(this),P(this,Ae,e(this.setOnline.bind(this)))}setOnline(e){l(this,vt)!==e&&(P(this,vt,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return l(this,vt)}},vt=new WeakMap,Ae=new WeakMap,gt=new WeakMap,gr),os=new gi;function Ls(){let t,e;const s=new Promise((n,o)=>{t=n,e=o});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},s.reject=n=>{r({status:"rejected",reason:n}),e(n)},s}function Si(t){return Math.min(1e3*2**t,3e4)}function Kr(t){return(t??"online")==="online"?os.isOnline():!0}var Qr=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ws(t){return t instanceof Qr}function qr(t){let e=!1,s=0,r=!1,n;const o=Ls(),i=v=>{var S;r||(p(new Qr(v)),(S=t.abort)==null||S.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>$s.isFocused()&&(t.networkMode==="always"||os.isOnline())&&t.canRun(),u=()=>Kr(t.networkMode)&&t.canRun(),a=v=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,v),n==null||n(),o.resolve(v))},p=v=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,v),n==null||n(),o.reject(v))},y=()=>new Promise(v=>{var S;n=b=>{(r||h())&&v(b)},(S=t.onPause)==null||S.call(t)}).then(()=>{var v;n=void 0,r||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(r)return;let v;const S=s===0?t.initialPromise:void 0;try{v=S??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(a).catch(b=>{var L;if(r)return;const C=t.retry??(ot?0:3),E=t.retryDelay??Si,F=typeof E=="function"?E(s,b):E,_=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,b);if(e||!_){p(b);return}s++,(L=t.onFail)==null||L.call(t,s,b),pi(F).then(()=>h()?void 0:y()).then(()=>{e?p(b):g()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:c,continueRetry:d,canStart:u,start:()=>(u()?g():y().then(g),o)}}function bi(){let t=[],e=0,s=c=>{c()},r=c=>{c()},n=c=>setTimeout(c,0);const o=c=>{e?t.push(c):n(()=>{s(c)})},i=()=>{const c=t;t=[],c.length&&n(()=>{r(()=>{c.forEach(d=>{s(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||i()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var J=bi(),Ye,Sr,Vr=(Sr=class{constructor(){k(this,Ye)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ms(this.gcTime)&&P(this,Ye,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ot?1/0:5*60*1e3))}clearGcTimeout(){l(this,Ye)&&(clearTimeout(l(this,Ye)),P(this,Ye,void 0))}},Ye=new WeakMap,Sr),St,bt,me,Ze,re,Ut,et,ge,Ee,br,_i=(br=class extends Vr{constructor(e){super();k(this,ge);k(this,St);k(this,bt);k(this,me);k(this,Ze);k(this,re);k(this,Ut);k(this,et);P(this,et,!1),P(this,Ut,e.defaultOptions),this.setOptions(e.options),this.observers=[],P(this,Ze,e.client),P(this,me,l(this,Ze).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,P(this,St,wi(this.options)),this.state=e.state??l(this,St),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,re))==null?void 0:e.promise}setOptions(e){this.options={...l(this,Ut),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,me).remove(this)}setData(e,s){const r=Fs(this.state.data,e,this.options);return T(this,ge,Ee).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){T(this,ge,Ee).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,n;const s=(r=l(this,re))==null?void 0:r.promise;return(n=l(this,re))==null||n.cancel(e),s?s.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,St))}isActive(){return this.observers.some(e=>be(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hs||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Br(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=l(this,re))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=l(this,re))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,me).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(l(this,re)&&(l(this,et)?l(this,re).cancel({revert:!0}):l(this,re).cancelRetry()),this.scheduleGc()),l(this,me).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||T(this,ge,Ee).call(this,{type:"invalidate"})}fetch(e,s){var d,h,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(l(this,re))return l(this,re).continueRetry(),l(this,re).promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(p=>p.options.queryFn);a&&this.setOptions(a.options)}const r=new AbortController,n=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(P(this,et,!0),r.signal)})},o=()=>{const a=Nr(this.options,s),p={client:l(this,Ze),queryKey:this.queryKey,meta:this.meta};return n(p),P(this,et,!1),this.options.persister?this.options.persister(a,p,this):a(p)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:l(this,Ze),state:this.state,fetchFn:o};n(i),(d=this.options.behavior)==null||d.onFetch(i,this),P(this,bt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=i.fetchOptions)==null?void 0:h.meta))&&T(this,ge,Ee).call(this,{type:"fetch",meta:(u=i.fetchOptions)==null?void 0:u.meta});const c=a=>{var p,y,g,v;ws(a)&&a.silent||T(this,ge,Ee).call(this,{type:"error",error:a}),ws(a)||((y=(p=l(this,me).config).onError)==null||y.call(p,a,this),(v=(g=l(this,me).config).onSettled)==null||v.call(g,this.state.data,a,this)),this.scheduleGc()};return P(this,re,qr({initialPromise:s==null?void 0:s.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:a=>{var p,y,g,v;if(a===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(S){c(S);return}(y=(p=l(this,me).config).onSuccess)==null||y.call(p,a,this),(v=(g=l(this,me).config).onSettled)==null||v.call(g,a,this.state.error,this),this.scheduleGc()},onError:c,onFail:(a,p)=>{T(this,ge,Ee).call(this,{type:"failed",failureCount:a,error:p})},onPause:()=>{T(this,ge,Ee).call(this,{type:"pause"})},onContinue:()=>{T(this,ge,Ee).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),l(this,re).start()}},St=new WeakMap,bt=new WeakMap,me=new WeakMap,Ze=new WeakMap,re=new WeakMap,Ut=new WeakMap,et=new WeakMap,ge=new WeakSet,Ee=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Hr(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return ws(n)&&n.revert&&l(this,bt)?{...l(this,bt),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),J.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),l(this,me).notify({query:this,type:"updated",action:e})})},br);function Hr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kr(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wi(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Pe,_r,Pi=(_r=class extends Lt{constructor(e={}){super();k(this,Pe);this.config=e,P(this,Pe,new Map)}build(e,s,r){const n=s.queryKey,o=s.queryHash??Vs(n,s);let i=this.get(o);return i||(i=new _i({client:e,queryKey:n,queryHash:o,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){l(this,Pe).has(e.queryHash)||(l(this,Pe).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=l(this,Pe).get(e.queryHash);s&&(e.destroy(),s===e&&l(this,Pe).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){J.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,Pe).get(e)}getAll(){return[...l(this,Pe).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>cr(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>cr(e,r)):s}notify(e){J.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){J.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){J.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pe=new WeakMap,_r),Ce,ie,tt,Re,De,wr,Ci=(wr=class extends Vr{constructor(e){super();k(this,Re);k(this,Ce);k(this,ie);k(this,tt);this.mutationId=e.mutationId,P(this,ie,e.mutationCache),P(this,Ce,[]),this.state=e.state||$r(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,Ce).includes(e)||(l(this,Ce).push(e),this.clearGcTimeout(),l(this,ie).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){P(this,Ce,l(this,Ce).filter(s=>s!==e)),this.scheduleGc(),l(this,ie).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,Ce).length||(this.state.status==="pending"?this.scheduleGc():l(this,ie).remove(this))}continue(){var e;return((e=l(this,tt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,o,i,c,d,h,u,a,p,y,g,v,S,b,C,E,F,_,L,I;P(this,tt,qr({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(m,f)=>{T(this,Re,De).call(this,{type:"failed",failureCount:m,error:f})},onPause:()=>{T(this,Re,De).call(this,{type:"pause"})},onContinue:()=>{T(this,Re,De).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,ie).canRun(this)}));const s=this.state.status==="pending",r=!l(this,tt).canStart();try{if(!s){T(this,Re,De).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(n=l(this,ie).config).onMutate)==null?void 0:o.call(n,e,this));const f=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,e));f!==this.state.context&&T(this,Re,De).call(this,{type:"pending",context:f,variables:e,isPaused:r})}const m=await l(this,tt).start();return await((h=(d=l(this,ie).config).onSuccess)==null?void 0:h.call(d,m,e,this.state.context,this)),await((a=(u=this.options).onSuccess)==null?void 0:a.call(u,m,e,this.state.context)),await((y=(p=l(this,ie).config).onSettled)==null?void 0:y.call(p,m,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,m,null,e,this.state.context)),T(this,Re,De).call(this,{type:"success",data:m}),m}catch(m){try{throw await((b=(S=l(this,ie).config).onError)==null?void 0:b.call(S,m,e,this.state.context,this)),await((E=(C=this.options).onError)==null?void 0:E.call(C,m,e,this.state.context)),await((_=(F=l(this,ie).config).onSettled)==null?void 0:_.call(F,void 0,m,this.state.variables,this.state.context,this)),await((I=(L=this.options).onSettled)==null?void 0:I.call(L,void 0,m,e,this.state.context)),m}finally{T(this,Re,De).call(this,{type:"error",error:m})}}finally{l(this,ie).runNext(this)}}},Ce=new WeakMap,ie=new WeakMap,tt=new WeakMap,Re=new WeakSet,De=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),J.batch(()=>{l(this,Ce).forEach(r=>{r.onMutationUpdate(e)}),l(this,ie).notify({mutation:this,type:"updated",action:e})})},wr);function $r(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fe,Se,Nt,Pr,Ri=(Pr=class extends Lt{constructor(e={}){super();k(this,Fe);k(this,Se);k(this,Nt);this.config=e,P(this,Fe,new Set),P(this,Se,new Map),P(this,Nt,0)}build(e,s,r){const n=new Ci({mutationCache:this,mutationId:++Vt(this,Nt)._,options:e.defaultMutationOptions(s),state:r});return this.add(n),n}add(e){l(this,Fe).add(e);const s=Wt(e);if(typeof s=="string"){const r=l(this,Se).get(s);r?r.push(e):l(this,Se).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,Fe).delete(e)){const s=Wt(e);if(typeof s=="string"){const r=l(this,Se).get(s);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&l(this,Se).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Wt(e);if(typeof s=="string"){const r=l(this,Se).get(s),n=r==null?void 0:r.find(o=>o.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const s=Wt(e);if(typeof s=="string"){const n=(r=l(this,Se).get(s))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){J.batch(()=>{l(this,Fe).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,Fe).clear(),l(this,Se).clear()})}getAll(){return Array.from(l(this,Fe))}find(e){const s={exact:!0,...e};return this.getAll().find(r=>ur(s,r))}findAll(e={}){return this.getAll().filter(s=>ur(e,s))}notify(e){J.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return J.batch(()=>Promise.all(e.map(s=>s.continue().catch(ve))))}},Fe=new WeakMap,Se=new WeakMap,Nt=new WeakMap,Pr);function Wt(t){var e;return(e=t.options.scope)==null?void 0:e.id}function dr(t){return{onFetch:(e,s)=>{var u,a,p,y,g;const r=e.options,n=(p=(a=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:a.fetchMore)==null?void 0:p.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],i=((g=e.state.data)==null?void 0:g.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let v=!1;const S=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=Nr(e.options,e.fetchOptions),C=async(E,F,_)=>{if(v)return Promise.reject();if(F==null&&E.pages.length)return Promise.resolve(E);const L={client:e.client,queryKey:e.queryKey,pageParam:F,direction:_?"backward":"forward",meta:e.options.meta};S(L);const I=await b(L),{maxPages:m}=e.options,f=_?yi:mi;return{pages:f(E.pages,I,m),pageParams:f(E.pageParams,F,m)}};if(n&&o.length){const E=n==="backward",F=E?xi:fr,_={pages:o,pageParams:i},L=F(r,_);c=await C(_,L,E)}else{const E=t??o.length;do{const F=d===0?i[0]??r.initialPageParam:fr(r,c);if(d>0&&F==null)break;c=await C(c,F),d++}while(d<E)}return c};e.options.persister?e.fetchFn=()=>{var v,S;return(S=(v=e.options).persister)==null?void 0:S.call(v,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=h}}}function fr(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function xi(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var z,je,Be,_t,wt,Ue,Pt,Ct,Cr,Ji=(Cr=class{constructor(t={}){k(this,z);k(this,je);k(this,Be);k(this,_t);k(this,wt);k(this,Ue);k(this,Pt);k(this,Ct);P(this,z,t.queryCache||new Pi),P(this,je,t.mutationCache||new Ri),P(this,Be,t.defaultOptions||{}),P(this,_t,new Map),P(this,wt,new Map),P(this,Ue,0)}mount(){Vt(this,Ue)._++,l(this,Ue)===1&&(P(this,Pt,$s.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,z).onFocus())})),P(this,Ct,os.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,z).onOnline())})))}unmount(){var t,e;Vt(this,Ue)._--,l(this,Ue)===0&&((t=l(this,Pt))==null||t.call(this),P(this,Pt,void 0),(e=l(this,Ct))==null||e.call(this),P(this,Ct,void 0))}isFetching(t){return l(this,z).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return l(this,je).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=l(this,z).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=l(this,z).build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(mt(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return l(this,z).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),n=l(this,z).get(r.queryHash),o=n==null?void 0:n.state.data,i=fi(e,o);if(i!==void 0)return l(this,z).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(t,e,s){return J.batch(()=>l(this,z).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=l(this,z).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=l(this,z);J.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=l(this,z),r={type:"active",...t};return J.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const s={revert:!0,...e},r=J.batch(()=>l(this,z).findAll(t).map(n=>n.cancel(s)));return Promise.all(r).then(ve).catch(ve)}invalidateQueries(t,e={}){return J.batch(()=>{if(l(this,z).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const s={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(s,e)})}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=J.batch(()=>l(this,z).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,s);return s.throwOnError||(o=o.catch(ve)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ve)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=l(this,z).build(this,e);return s.isStaleByTime(mt(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ve).catch(ve)}fetchInfiniteQuery(t){return t.behavior=dr(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ve).catch(ve)}ensureInfiniteQueryData(t){return t.behavior=dr(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return os.isOnline()?l(this,je).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,z)}getMutationCache(){return l(this,je)}getDefaultOptions(){return l(this,Be)}setDefaultOptions(t){P(this,Be,t)}setQueryDefaults(t,e){l(this,_t).set(at(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...l(this,_t).values()],s={};return e.forEach(r=>{Bt(t,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(t,e){l(this,wt).set(at(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...l(this,wt).values()];let s={};return e.forEach(r=>{Bt(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...l(this,Be).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vs(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Hs&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...l(this,Be).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){l(this,z).clear(),l(this,je).clear()}},z=new WeakMap,je=new WeakMap,Be=new WeakMap,_t=new WeakMap,wt=new WeakMap,Ue=new WeakMap,Pt=new WeakMap,Ct=new WeakMap,Cr),he,j,Kt,oe,st,Rt,Ne,xe,Qt,xt,Mt,rt,nt,Ke,Et,N,Dt,Os,Is,ks,Ds,Ts,As,js,Wr,Rr,zr=(Rr=class extends Lt{constructor(e,s){super();k(this,N);k(this,he);k(this,j);k(this,Kt);k(this,oe);k(this,st);k(this,Rt);k(this,Ne);k(this,xe);k(this,Qt);k(this,xt);k(this,Mt);k(this,rt);k(this,nt);k(this,Ke);k(this,Et,new Set);this.options=s,P(this,he,e),P(this,xe,null),P(this,Ne,Ls()),this.options.experimental_prefetchInRender||l(this,Ne).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,j).addObserver(this),pr(l(this,j),this.options)?T(this,N,Dt).call(this):this.updateResult(),T(this,N,Ds).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bs(l(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bs(l(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,T(this,N,Ts).call(this),T(this,N,As).call(this),l(this,j).removeObserver(this)}setOptions(e,s){const r=this.options,n=l(this,j);if(this.options=l(this,he).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof be(this.options.enabled,l(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");T(this,N,js).call(this),l(this,j).setOptions(this.options),r._defaulted&&!is(this.options,r)&&l(this,he).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,j),observer:this});const o=this.hasListeners();o&&mr(l(this,j),n,this.options,r)&&T(this,N,Dt).call(this),this.updateResult(s),o&&(l(this,j)!==n||be(this.options.enabled,l(this,j))!==be(r.enabled,l(this,j))||mt(this.options.staleTime,l(this,j))!==mt(r.staleTime,l(this,j)))&&T(this,N,Os).call(this);const i=T(this,N,Is).call(this);o&&(l(this,j)!==n||be(this.options.enabled,l(this,j))!==be(r.enabled,l(this,j))||i!==l(this,Ke))&&T(this,N,ks).call(this,i)}getOptimisticResult(e){const s=l(this,he).getQueryCache().build(l(this,he),e),r=this.createResult(s,e);return Ei(this,r)&&(P(this,oe,r),P(this,Rt,this.options),P(this,st,l(this,j).state)),r}getCurrentResult(){return l(this,oe)}trackResult(e,s){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),e[n])})}),r}trackProp(e){l(this,Et).add(e)}getCurrentQuery(){return l(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=l(this,he).defaultQueryOptions(e),r=l(this,he).getQueryCache().build(l(this,he),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return T(this,N,Dt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,oe)))}createResult(e,s){var m;const r=l(this,j),n=this.options,o=l(this,oe),i=l(this,st),c=l(this,Rt),h=e!==r?e.state:l(this,Kt),{state:u}=e;let a={...u},p=!1,y;if(s._optimisticResults){const f=this.hasListeners(),R=!f&&pr(e,s),w=f&&mr(e,r,s,n);(R||w)&&(a={...a,...Hr(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(a.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:S}=a;if(s.select&&a.data!==void 0)if(o&&a.data===(i==null?void 0:i.data)&&s.select===l(this,Qt))y=l(this,xt);else try{P(this,Qt,s.select),y=s.select(a.data),y=Fs(o==null?void 0:o.data,y,s),P(this,xt,y),P(this,xe,null)}catch(f){P(this,xe,f)}else y=a.data;if(s.placeholderData!==void 0&&y===void 0&&S==="pending"){let f;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))f=o.data;else if(f=typeof s.placeholderData=="function"?s.placeholderData((m=l(this,Mt))==null?void 0:m.state.data,l(this,Mt)):s.placeholderData,s.select&&f!==void 0)try{f=s.select(f),P(this,xe,null)}catch(R){P(this,xe,R)}f!==void 0&&(S="success",y=Fs(o==null?void 0:o.data,f,s),p=!0)}l(this,xe)&&(g=l(this,xe),y=l(this,xt),v=Date.now(),S="error");const b=a.fetchStatus==="fetching",C=S==="pending",E=S==="error",F=C&&b,_=y!==void 0,I={status:S,fetchStatus:a.fetchStatus,isPending:C,isSuccess:S==="success",isError:E,isInitialLoading:F,isLoading:F,data:y,dataUpdatedAt:a.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>h.dataUpdateCount||a.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&!C,isLoadingError:E&&!_,isPaused:a.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&_,isStale:zs(e,s),refetch:this.refetch,promise:l(this,Ne)};if(this.options.experimental_prefetchInRender){const f=M=>{I.status==="error"?M.reject(I.error):I.data!==void 0&&M.resolve(I.data)},R=()=>{const M=P(this,Ne,I.promise=Ls());f(M)},w=l(this,Ne);switch(w.status){case"pending":e.queryHash===r.queryHash&&f(w);break;case"fulfilled":(I.status==="error"||I.data!==w.value)&&R();break;case"rejected":(I.status!=="error"||I.error!==w.reason)&&R();break}}return I}updateResult(e){const s=l(this,oe),r=this.createResult(l(this,j),this.options);if(P(this,st,l(this,j).state),P(this,Rt,this.options),l(this,st).data!==void 0&&P(this,Mt,l(this,j)),is(r,s))return;P(this,oe,r);const n={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!l(this,Et).size)return!0;const d=new Set(c??l(this,Et));return this.options.throwOnError&&d.add("error"),Object.keys(l(this,oe)).some(h=>{const u=h;return l(this,oe)[u]!==s[u]&&d.has(u)})};(e==null?void 0:e.listeners)!==!1&&o()&&(n.listeners=!0),T(this,N,Wr).call(this,{...n,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&T(this,N,Ds).call(this)}},he=new WeakMap,j=new WeakMap,Kt=new WeakMap,oe=new WeakMap,st=new WeakMap,Rt=new WeakMap,Ne=new WeakMap,xe=new WeakMap,Qt=new WeakMap,xt=new WeakMap,Mt=new WeakMap,rt=new WeakMap,nt=new WeakMap,Ke=new WeakMap,Et=new WeakMap,N=new WeakSet,Dt=function(e){T(this,N,js).call(this);let s=l(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ve)),s},Os=function(){T(this,N,Ts).call(this);const e=mt(this.options.staleTime,l(this,j));if(ot||l(this,oe).isStale||!Ms(e))return;const r=Br(l(this,oe).dataUpdatedAt,e)+1;P(this,rt,setTimeout(()=>{l(this,oe).isStale||this.updateResult()},r))},Is=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,j)):this.options.refetchInterval)??!1},ks=function(e){T(this,N,As).call(this),P(this,Ke,e),!(ot||be(this.options.enabled,l(this,j))===!1||!Ms(l(this,Ke))||l(this,Ke)===0)&&P(this,nt,setInterval(()=>{(this.options.refetchIntervalInBackground||$s.isFocused())&&T(this,N,Dt).call(this)},l(this,Ke)))},Ds=function(){T(this,N,Os).call(this),T(this,N,ks).call(this,T(this,N,Is).call(this))},Ts=function(){l(this,rt)&&(clearTimeout(l(this,rt)),P(this,rt,void 0))},As=function(){l(this,nt)&&(clearInterval(l(this,nt)),P(this,nt,void 0))},js=function(){const e=l(this,he).getQueryCache().build(l(this,he),this.options);if(e===l(this,j))return;const s=l(this,j);P(this,j,e),P(this,Kt,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Wr=function(e){J.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(l(this,oe))}),l(this,he).getQueryCache().notify({query:l(this,j),type:"observerResultsUpdated"})})},Rr);function Mi(t,e){return be(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pr(t,e){return Mi(t,e)||t.state.data!==void 0&&Bs(t,e,e.refetchOnMount)}function Bs(t,e,s){if(be(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&zs(t,e)}return!1}function mr(t,e,s,r){return(t!==e||be(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&zs(t,s)}function zs(t,e){return be(e.enabled,t)!==!1&&t.isStaleByTime(mt(e.staleTime,t))}function Ei(t,e){return!is(t.getCurrentResult(),e)}var Qe,qe,de,Le,Ie,Xt,Us,xr,Fi=(xr=class extends Lt{constructor(e,s){super();k(this,Ie);k(this,Qe);k(this,qe);k(this,de);k(this,Le);P(this,Qe,e),this.setOptions(s),this.bindMethods(),T(this,Ie,Xt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const s=this.options;this.options=l(this,Qe).defaultMutationOptions(e),is(this.options,s)||l(this,Qe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,de),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&at(s.mutationKey)!==at(this.options.mutationKey)?this.reset():((r=l(this,de))==null?void 0:r.state.status)==="pending"&&l(this,de).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=l(this,de))==null||e.removeObserver(this)}onMutationUpdate(e){T(this,Ie,Xt).call(this),T(this,Ie,Us).call(this,e)}getCurrentResult(){return l(this,qe)}reset(){var e;(e=l(this,de))==null||e.removeObserver(this),P(this,de,void 0),T(this,Ie,Xt).call(this),T(this,Ie,Us).call(this)}mutate(e,s){var r;return P(this,Le,s),(r=l(this,de))==null||r.removeObserver(this),P(this,de,l(this,Qe).getMutationCache().build(l(this,Qe),this.options)),l(this,de).addObserver(this),l(this,de).execute(e)}},Qe=new WeakMap,qe=new WeakMap,de=new WeakMap,Le=new WeakMap,Ie=new WeakSet,Xt=function(){var s;const e=((s=l(this,de))==null?void 0:s.state)??$r();P(this,qe,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Us=function(e){J.batch(()=>{var s,r,n,o,i,c,d,h;if(l(this,Le)&&this.hasListeners()){const u=l(this,qe).variables,a=l(this,qe).context;(e==null?void 0:e.type)==="success"?((r=(s=l(this,Le)).onSuccess)==null||r.call(s,e.data,u,a),(o=(n=l(this,Le)).onSettled)==null||o.call(n,e.data,null,u,a)):(e==null?void 0:e.type)==="error"&&((c=(i=l(this,Le)).onError)==null||c.call(i,e.error,u,a),(h=(d=l(this,Le)).onSettled)==null||h.call(d,void 0,e.error,u,a))}this.listeners.forEach(u=>{u(l(this,qe))})})},xr),Gr=x.createContext(void 0),Ws=t=>{const e=x.useContext(Gr);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Xi=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),O.jsx(Gr.Provider,{value:t,children:e})),Jr=x.createContext(!1),Li=()=>x.useContext(Jr);Jr.Provider;function Oi(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ii=x.createContext(Oi()),ki=()=>x.useContext(Ii);function Xr(t,e){return typeof t=="function"?t(...e):!!t}function Ns(){}var Di=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ti=t=>{x.useEffect(()=>{t.clearReset()},[t])},Ai=({result:t,errorResetBoundary:e,throwOnError:s,query:r,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(n&&t.data===void 0||Xr(s,[t.error,r])),ji=(t,e)=>e.state.data===void 0,Bi=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Ui=(t,e)=>t.isLoading&&t.isFetching&&!e,Ni=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,yr=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Yr(t,e,s){var a,p,y,g,v;const r=Ws(),n=Li(),o=ki(),i=r.defaultQueryOptions(t);(p=(a=r.getDefaultOptions().queries)==null?void 0:a._experimental_beforeQuery)==null||p.call(a,i),i._optimisticResults=n?"isRestoring":"optimistic",Bi(i),Di(i,o),Ti(o);const c=!r.getQueryCache().get(i.queryHash),[d]=x.useState(()=>new e(r,i)),h=d.getOptimisticResult(i),u=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const b=u?d.subscribe(J.batchCalls(S)):Ns;return d.updateResult(),b},[d,u]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(i,{listeners:!1})},[i,d]),Ni(i,h))throw yr(i,d,o);if(Ai({result:h,errorResetBoundary:o,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw h.error;if((g=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||g.call(y,i,h),i.experimental_prefetchInRender&&!ot&&Ui(h,n)){const S=c?yr(i,d,o):(v=r.getQueryCache().get(i.queryHash))==null?void 0:v.promise;S==null||S.catch(Ns).finally(()=>{d.updateResult()})}return i.notifyOnChangeProps?h:d.trackResult(h)}function Yi(t,e){return Yr(t,zr)}function Zi(t,e){return Yr({...t,enabled:!0,suspense:!0,throwOnError:ji,placeholderData:void 0},zr)}function eo(t){return t}function to(t,e){const s=Ws(),r=s.getQueryCache();return x.useSyncExternalStore(x.useCallback(n=>r.subscribe(J.batchCalls(n)),[r]),()=>s.isFetching(t),()=>s.isFetching(t))}function so(t,e){const s=Ws(),[r]=x.useState(()=>new Fi(s,t));x.useEffect(()=>{r.setOptions(t)},[r,t]);const n=x.useSyncExternalStore(x.useCallback(i=>r.subscribe(J.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=x.useCallback((i,c)=>{r.mutate(i,c).catch(Ns)},[r]);if(n.error&&Xr(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}export{zi as L,Ar as O,Ji as Q,Gi as R,ae as a,to as b,Vi as c,Zi as d,Hi as e,Yi as f,Ws as g,so as h,_e as i,Wi as j,Xi as k,$i as l,eo as q,fe as r,an as t,Me as u};
