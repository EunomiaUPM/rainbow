import{r as n,j as s,a3 as f}from"./ui-B_Y8HlyQ.js";import{a9 as h,V as j,U as u,G as N,B as c,a as y}from"./index-2IBXBLVr.js";import{u as g,P as D}from"./PolicyWrapperNew-CEf8recz.js";import{P as v}from"./PolicyWrapperShow-D-b53as3.js";import{H as r}from"./heading-Dyo69VqW.js";import{I as w}from"./info-list-CzLp-cMe.js";import{D as P,a as b,b as C,c as I,d as O}from"./drawer-DEO1_NxH.js";import"./vendor-BtP0CW_r.js";import"./tanstack-CQsG9zHS.js";import"./syntax-Deq619ix.js";import"./index-BfmDa8Jz.js";import"./index-SEI0ik9x.js";import"./infoItemMappers-CT53hr-5.js";import"./dayjs.min-C1qovwV9.js";const V=function(){const{datasetId:e}=h.useParams(),{data:t}=j(e),[l,i]=n.useState(!1),{data:o}=u(e),{mutateAsync:m}=g(),{api_gateway:p}=n.useContext(N),d={participant_type:"Provider"},x=async a=>{await m({api_gateway:p,datasetId:e,content:{offer:JSON.stringify(a)}}),i(!1)};return s.jsxs("div",{className:"space-y-4 pb-4",children:[s.jsxs(r,{level:"h3",className:"flex gap-2 items-center",children:["Dataset",s.jsx(c,{variant:"info",size:"lg",children:t.name})]}),s.jsx(w,{className:"text-sm w-2/3",items:t.custom_properties.map(a=>({label:a[0],value:a[1],keyClassName:"text-sky-300",className:"text-gray-300/90"}))}),s.jsx("div",{className:"h-2"}),s.jsxs("div",{className:" flex flex-row  justify-start gap-3 items-center",children:[s.jsx(r,{level:"h5",className:"mb-0",children:"ODRL Policies"}),s.jsxs(P,{direction:"right",open:l,onOpenChange:a=>i(a),children:[s.jsx(b,{asChild:!0,children:s.jsxs(y,{variant:"default",size:"sm",className:"mb-1 ml-3",children:["Add ODRL policy",s.jsx(f,{className:""})]})}),s.jsxs(C,{children:[s.jsx(I,{className:"px-8",children:s.jsxs(O,{children:[s.jsx(r,{level:"h4",className:"text-current mb-1 ",children:"New ODRL Policy"}),s.jsxs("p",{className:"font-normal text-brand-sky",children:["for Dataset",s.jsx(c,{variant:"info",size:"sm",className:"ml-2",children:t.name})]})]})}),s.jsx(D,{onSubmit:x})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:o&&o.map(a=>s.jsx(v,{policy:a,participant:d,datasetId:e,catalogId:void 0,datasetName:""},a["@id"]))})]})};export{V as component};
