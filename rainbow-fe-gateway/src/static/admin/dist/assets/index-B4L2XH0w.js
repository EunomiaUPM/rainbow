import{v as B,r as i,j as t,X as V,P as j,J as x,z as fe,V as U,a7 as pe,w as me}from"./ui-B_Y8HlyQ.js";import{k as R,O as ve,Q as be,a as k}from"./index-2IBXBLVr.js";import{I as ge}from"./info-list-CzLp-cMe.js";import{F as L}from"./format-date-BF6u_ePE.js";import{H as xe}from"./heading-Dyo69VqW.js";import{c as Te,u as $}from"./index-SEI0ik9x.js";import{D as he,a as Ie,b as je,c as Fe,d as Ce,e as we,f as ye,g as Re}from"./drawer-DEO1_NxH.js";import{T as Se}from"./TransferProcessActions-DNjCSe-6.js";import{M as Pe,R as Ae,a as Ee,b as _e,c as Me,d as Ne,e as O,f as De}from"./message-meta-DFQOD5Bm.js";import{P as Ge,a as K}from"./PageSection-CqpOCzB-.js";import{I as ke}from"./InfoGrid-xUOhStEF.js";import"./vendor-BtP0CW_r.js";import"./tanstack-CQsG9zHS.js";import"./syntax-Deq619ix.js";import"./dayjs.min-C1qovwV9.js";import"./infoItemMappers-CT53hr-5.js";import"./ProcessActionDialog-Ac7-MRvm.js";var _="rovingFocusGroup.onEntryFocus",Le={bubbles:!1,cancelable:!0},F="RovingFocusGroup",[M,H,Oe]=Te(F),[Ke,z]=B(F,[Oe]),[Be,Ve]=Ke(F),Y=i.forwardRef((e,r)=>t.jsx(M.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(M.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ue,{...e,ref:r})})}));Y.displayName=F;var Ue=i.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:u=!1,dir:d,currentTabStopId:n,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:s=!1,...c}=e,v=i.useRef(null),C=fe(r,v),w=$(d),[y,l]=U({prop:n,defaultProp:p??null,onChange:g,caller:F}),[T,P]=i.useState(!1),b=pe(m),h=H(a),A=i.useRef(!1),[ie,D]=i.useState(0);return i.useEffect(()=>{const f=v.current;if(f)return f.addEventListener(_,b),()=>f.removeEventListener(_,b)},[b]),t.jsx(Be,{scope:a,orientation:o,dir:w,loop:u,currentTabStopId:y,onItemFocus:i.useCallback(f=>l(f),[l]),onItemShiftTab:i.useCallback(()=>P(!0),[]),onFocusableItemAdd:i.useCallback(()=>D(f=>f+1),[]),onFocusableItemRemove:i.useCallback(()=>D(f=>f-1),[]),children:t.jsx(j.div,{tabIndex:T||ie===0?-1:0,"data-orientation":o,...c,ref:C,style:{outline:"none",...e.style},onMouseDown:x(e.onMouseDown,()=>{A.current=!0}),onFocus:x(e.onFocus,f=>{const ce=!A.current;if(f.target===f.currentTarget&&ce&&!T){const G=new CustomEvent(_,Le);if(f.currentTarget.dispatchEvent(G),!G.defaultPrevented){const E=h().filter(I=>I.focusable),le=E.find(I=>I.active),ue=E.find(I=>I.id===y),de=[le,ue,...E].filter(Boolean).map(I=>I.ref.current);Q(de,s)}}A.current=!1}),onBlur:x(e.onBlur,()=>P(!1))})})}),J="RovingFocusGroupItem",q=i.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:u=!1,tabStopId:d,children:n,...p}=e,g=V(),m=d||g,s=Ve(J,a),c=s.currentTabStopId===m,v=H(a),{onFocusableItemAdd:C,onFocusableItemRemove:w,currentTabStopId:y}=s;return i.useEffect(()=>{if(o)return C(),()=>w()},[o,C,w]),t.jsx(M.ItemSlot,{scope:a,id:m,focusable:o,active:u,children:t.jsx(j.span,{tabIndex:c?0:-1,"data-orientation":s.orientation,...p,ref:r,onMouseDown:x(e.onMouseDown,l=>{o?s.onItemFocus(m):l.preventDefault()}),onFocus:x(e.onFocus,()=>s.onItemFocus(m)),onKeyDown:x(e.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){s.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const T=ze(l,s.orientation,s.dir);if(T!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let b=v().filter(h=>h.focusable).map(h=>h.ref.current);if(T==="last")b.reverse();else if(T==="prev"||T==="next"){T==="prev"&&b.reverse();const h=b.indexOf(l.currentTarget);b=s.loop?Ye(b,h+1):b.slice(h+1)}setTimeout(()=>Q(b))}}),children:typeof n=="function"?n({isCurrentTabStop:c,hasTabStop:y!=null}):n})})});q.displayName=J;var $e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function He(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ze(e,r,a){const o=He(e.key,a);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return $e[o]}function Q(e,r=!1){const a=document.activeElement;for(const o of e)if(o===a||(o.focus({preventScroll:r}),document.activeElement!==a))return}function Ye(e,r){return e.map((a,o)=>e[(r+o)%e.length])}var Je=Y,qe=q,S="Tabs",[Qe]=B(S,[z]),X=z(),[Xe,N]=Qe(S),Z=i.forwardRef((e,r)=>{const{__scopeTabs:a,value:o,onValueChange:u,defaultValue:d,orientation:n="horizontal",dir:p,activationMode:g="automatic",...m}=e,s=$(p),[c,v]=U({prop:o,onChange:u,defaultProp:d??"",caller:S});return t.jsx(Xe,{scope:a,baseId:V(),value:c,onValueChange:v,orientation:n,dir:s,activationMode:g,children:t.jsx(j.div,{dir:s,"data-orientation":n,...m,ref:r})})});Z.displayName=S;var W="TabsList",ee=i.forwardRef((e,r)=>{const{__scopeTabs:a,loop:o=!0,...u}=e,d=N(W,a),n=X(a);return t.jsx(Je,{asChild:!0,...n,orientation:d.orientation,dir:d.dir,loop:o,children:t.jsx(j.div,{role:"tablist","aria-orientation":d.orientation,...u,ref:r})})});ee.displayName=W;var te="TabsTrigger",re=i.forwardRef((e,r)=>{const{__scopeTabs:a,value:o,disabled:u=!1,...d}=e,n=N(te,a),p=X(a),g=se(n.baseId,o),m=ne(n.baseId,o),s=o===n.value;return t.jsx(qe,{asChild:!0,...p,focusable:!u,active:s,children:t.jsx(j.button,{type:"button",role:"tab","aria-selected":s,"aria-controls":m,"data-state":s?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:g,...d,ref:r,onMouseDown:x(e.onMouseDown,c=>{!u&&c.button===0&&c.ctrlKey===!1?n.onValueChange(o):c.preventDefault()}),onKeyDown:x(e.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&n.onValueChange(o)}),onFocus:x(e.onFocus,()=>{const c=n.activationMode!=="manual";!s&&!u&&c&&n.onValueChange(o)})})})});re.displayName=te;var oe="TabsContent",ae=i.forwardRef((e,r)=>{const{__scopeTabs:a,value:o,forceMount:u,children:d,...n}=e,p=N(oe,a),g=se(p.baseId,o),m=ne(p.baseId,o),s=o===p.value,c=i.useRef(s);return i.useEffect(()=>{const v=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(v)},[]),t.jsx(me,{present:u||s,children:({present:v})=>t.jsx(j.div,{"data-state":s?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!v,id:m,tabIndex:0,...n,ref:r,style:{...e.style,animationDuration:c.current?"0s":void 0},children:v&&d})})});ae.displayName=oe;function se(e,r){return`${e}-trigger-${r}`}function ne(e,r){return`${e}-content-${r}`}var Ze=Z,We=ee,et=re,tt=ae;function rt({className:e,...r}){return t.jsx(Ze,{"data-slot":"tabs",className:R("flex flex-col gap-2",e),...r})}function ot({className:e,...r}){return t.jsx(We,{"data-slot":"tabs-list",className:R("bg-blue-950/70 text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-md p-1",e),...r})}function at({className:e,...r}){return t.jsx(et,{"data-slot":"tabs-trigger",className:R("bg-transparent data-[state=active]:bg-blue-900 dark:data-[state=active]:text-white focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-sm border border-transparent px-2 pt-2 pb-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function st({className:e,...r}){return t.jsx(tt,{"data-slot":"tabs-content",className:R("flex-1 outline-none",e),...r})}let nt=e=>e.replace(/(?!^)([A-Z])/g," $1");const it=({message:e})=>t.jsxs(Pe,{variant:e.stateTransitionFrom,children:[t.jsx(Ae,{from:e.stateTransitionFrom}),t.jsxs(Ee,{variant:e.stateTransitionFrom,children:[t.jsx(_e,{className:"text-brand-sky mb-0 pb-0",children:nt(e.messageType)}),t.jsx(Me,{created_at:e.createdAt.toString()}),t.jsxs(Ne,{children:[t.jsx(O,{label:" Transfer Message Id",value:e.id.slice(9,60)}),t.jsx(O,{label:" Transfer Process Id",value:e.transferAgentProcessId.slice(9,60)})]}),t.jsx(De,{content:JSON.stringify(e.payload,null,4)})]})]},e.id),yt=function(){const{transferProcessId:r}=ve.useParams(),{data:a}=be(r);return t.jsxs(Ge,{children:[t.jsxs(rt,{defaultValue:"data-control",className:"w-full",children:[t.jsx(ot,{children:t.jsx(at,{value:"data-control",children:"Control Plane"})}),t.jsxs(st,{value:"data-control",children:[" ",t.jsx(K,{title:"Transfer process info",children:t.jsx(ke,{className:"mb-4",children:t.jsx(ge,{items:[{label:"Process pid",value:{type:"urn",value:a.id}},{label:"Agreement id",value:{type:"urn",value:a.agreementId}},{label:"Transfer Process State",value:{type:"status",value:a.state}},{label:"Created at",value:{type:"custom",content:t.jsx(L,{date:a.createdAt})}},{label:"Updated at",value:{type:"custom",content:t.jsx(L,{date:a.updatedAt})}}]})})}),t.jsx(K,{children:t.jsxs(he,{direction:"right",children:[t.jsx(Ie,{children:t.jsx(k,{variant:"secondary",children:"See Transfer Process Messages"})}),t.jsxs(je,{children:[t.jsx(Fe,{children:t.jsx(Ce,{children:t.jsx(xe,{level:"h5",className:"text-current",children:"Transfer Messages"})})}),t.jsx(we,{children:a.messages.map(o=>t.jsx(it,{message:o},o.id))}),t.jsx(ye,{children:t.jsx(Re,{children:t.jsx(k,{variant:"ghost",children:"Hide Messages"})})})]})]})})]})]}),t.jsx(Se,{process:a,tiny:!1})]})};export{yt as component};
